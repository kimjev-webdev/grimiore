(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Fd={exports:{}},oa={},bd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),rg=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),dg=Symbol.for("react.memo"),fg=Symbol.for("react.lazy"),eh=Symbol.iterator;function pg(t){return t===null||typeof t!="object"?null:(t=eh&&t[eh]||t["@@iterator"],typeof t=="function"?t:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,jd={};function fr(t,e,n){this.props=t,this.context=e,this.refs=jd,this.updater=n||Vd}fr.prototype.isReactComponent={};fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wd(){}Wd.prototype=fr.prototype;function wu(t,e,n){this.props=t,this.context=e,this.refs=jd,this.updater=n||Vd}var Su=wu.prototype=new Wd;Su.constructor=wu;Ld(Su,fr.prototype);Su.isPureReactComponent=!0;var th=Array.isArray,zd=Object.prototype.hasOwnProperty,ku={current:null},qd={key:!0,ref:!0,__self:!0,__source:!0};function Bd(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zd.call(e,s)&&!qd.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:vi,type:t,key:i,ref:o,props:r,_owner:ku.current}}function mg(t,e){return{$$typeof:vi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===vi}function gg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nh=/\/+/g;function Ua(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gg(""+t.key):e.toString(36)}function io(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vi:case rg:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Ua(o,0):s,th(r)?(n="",t!=null&&(n=t.replace(nh,"$&/")+"/"),io(r,e,n,"",function(u){return u})):r!=null&&(Tu(r)&&(r=mg(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(nh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",th(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Ua(i,a);o+=io(i,e,n,l,r)}else if(l=pg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Ua(i,a++),o+=io(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vi(t,e,n){if(t==null)return t;var s=[],r=0;return io(t,s,"","",function(i){return e.call(n,i,r++)}),s}function _g(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},oo={transition:null},yg={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:oo,ReactCurrentOwner:ku};function Ud(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Vi,forEach:function(t,e,n){Vi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vi(t,function(){e++}),e},toArray:function(t){return Vi(t,function(e){return e})||[]},only:function(t){if(!Tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=fr;K.Fragment=ig;K.Profiler=ag;K.PureComponent=wu;K.StrictMode=og;K.Suspense=hg;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;K.act=Ud;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Ld({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ku.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zd.call(e,l)&&!qd.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:vi,type:t.type,key:r,ref:i,props:s,_owner:o}};K.createContext=function(t){return t={$$typeof:ug,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lg,_context:t},t.Consumer=t};K.createElement=Bd;K.createFactory=function(t){var e=Bd.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:cg,render:t}};K.isValidElement=Tu;K.lazy=function(t){return{$$typeof:fg,_payload:{_status:-1,_result:t},_init:_g}};K.memo=function(t,e){return{$$typeof:dg,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=oo.transition;oo.transition={};try{t()}finally{oo.transition=e}};K.unstable_act=Ud;K.useCallback=function(t,e){return st.current.useCallback(t,e)};K.useContext=function(t){return st.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return st.current.useDeferredValue(t)};K.useEffect=function(t,e){return st.current.useEffect(t,e)};K.useId=function(){return st.current.useId()};K.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return st.current.useMemo(t,e)};K.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};K.useRef=function(t){return st.current.useRef(t)};K.useState=function(t){return st.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return st.current.useTransition()};K.version="18.3.1";bd.exports=K;var he=bd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=he,wg=Symbol.for("react.element"),Sg=Symbol.for("react.fragment"),kg=Object.prototype.hasOwnProperty,Tg=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xg={key:!0,ref:!0,__self:!0,__source:!0};function $d(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)kg.call(e,s)&&!xg.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:wg,type:t,key:i,ref:o,props:r,_owner:Tg.current}}oa.Fragment=Sg;oa.jsx=$d;oa.jsxs=$d;Fd.exports=oa;var Z=Fd.exports,Gd={exports:{}},xt={},Hd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,D){var R=I.length;I.push(D);e:for(;0<R;){var O=R-1>>>1,P=I[O];if(0<r(P,D))I[O]=D,I[R]=P,R=O;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var D=I[0],R=I.pop();if(R!==D){I[0]=R;e:for(var O=0,P=I.length,H=P>>>1;O<H;){var $=2*(O+1)-1,L=I[$],Q=$+1,ee=I[Q];if(0>r(L,R))Q<P&&0>r(ee,L)?(I[O]=ee,I[Q]=R,O=Q):(I[O]=L,I[$]=R,O=$);else if(Q<P&&0>r(ee,R))I[O]=ee,I[Q]=R,O=Q;else break e}}return D}function r(I,D){var R=I.sortIndex-D.sortIndex;return R!==0?R:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,p=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=I)s(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function x(I){if(_=!1,y(I),!p)if(n(l)!==null)p=!0,j(v);else{var D=n(u);D!==null&&q(x,D.startTime-I)}}function v(I,D){p=!1,_&&(_=!1,f(S),S=-1),g=!0;var R=d;try{for(y(D),h=n(l);h!==null&&(!(h.expirationTime>D)||I&&!N());){var O=h.callback;if(typeof O=="function"){h.callback=null,d=h.priorityLevel;var P=O(h.expirationTime<=D);D=t.unstable_now(),typeof P=="function"?h.callback=P:h===n(l)&&s(l),y(D)}else s(l);h=n(l)}if(h!==null)var H=!0;else{var $=n(u);$!==null&&q(x,$.startTime-D),H=!1}return H}finally{h=null,d=R,g=!1}}var k=!1,T=null,S=-1,E=5,C=-1;function N(){return!(t.unstable_now()-C<E)}function A(){if(T!==null){var I=t.unstable_now();C=I;var D=!0;try{D=T(!0,I)}finally{D?F():(k=!1,T=null)}}else k=!1}var F;if(typeof m=="function")F=function(){m(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=A,F=function(){U.postMessage(null)}}else F=function(){w(A,0)};function j(I){T=I,k||(k=!0,F())}function q(I,D){S=w(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,j(v))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var R=d;d=D;try{return I()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=d;d=I;try{return D()}finally{d=R}},t.unstable_scheduleCallback=function(I,D,R){var O=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,I){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=R+P,I={id:c++,callback:D,priorityLevel:I,startTime:R,expirationTime:P,sortIndex:-1},R>O?(I.sortIndex=R,e(u,I),n(l)===null&&I===n(u)&&(_?(f(S),S=-1):_=!0,q(x,R-O))):(I.sortIndex=P,e(l,I),p||g||(p=!0,j(v))),I},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(I){var D=d;return function(){var R=d;d=D;try{return I.apply(this,arguments)}finally{d=R}}}})(Qd);Hd.exports=Qd;var Cg=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=he,Tt=Cg;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xd=new Set,Yr={};function Ss(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(Yr[t]=e,t=0;t<e.length;t++)Xd.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=Object.prototype.hasOwnProperty,Ng=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sh={},rh={};function Ag(t){return yl.call(rh,t)?!0:yl.call(sh,t)?!1:Ng.test(t)?rh[t]=!0:(sh[t]=!0,!1)}function Og(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ig(t,e,n,s){if(e===null||typeof e>"u"||Og(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function Cu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xu,Cu);Ue[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xu,Cu);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xu,Cu);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Eu(t,e,n,s){var r=Ue.hasOwnProperty(e)?Ue[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ig(e,n,r,s)&&(n=null),s||r===null?Ag(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var kn=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Nu=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),Yd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Kd=Symbol.for("react.offscreen"),ih=Symbol.iterator;function Tr(t){return t===null||typeof t!="object"?null:(t=ih&&t[ih]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,$a;function Mr(t){if($a===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$a=e&&e[1]||""}return`
`+$a+t}var Ga=!1;function Ha(t,e){if(!t||Ga)return"";Ga=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ga=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mr(t):""}function Dg(t){switch(t.tag){case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return t=Ha(t.type,!1),t;case 11:return t=Ha(t.type.render,!1),t;case 1:return t=Ha(t.type,!0),t;default:return""}}function kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case Is:return"Portal";case vl:return"Profiler";case Nu:return"StrictMode";case wl:return"Suspense";case Sl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zd:return(t.displayName||"Context")+".Consumer";case Yd:return(t._context.displayName||"Context")+".Provider";case Au:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ou:return e=t.displayName||null,e!==null?e:kl(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return kl(t(e))}catch{}}return null}function Mg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kl(e);case 8:return e===Nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rg(t){var e=Jd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ji(t){t._valueTracker||(t._valueTracker=Rg(t))}function ef(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Jd(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tl(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tf(t,e){e=e.checked,e!=null&&Eu(t,"checked",e,!1)}function xl(t,e){tf(t,e);var n=Gn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cl(t,e.type,Gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ah(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cl(t,e,n){(e!=="number"||wo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rr=Array.isArray;function $s(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Gn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function El(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(Rr(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gn(n)}}function nf(t,e){var n=Gn(e.value),s=Gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function uh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,rf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pg=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(t){Pg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vr[e]=Vr[t]})});function of(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vr.hasOwnProperty(t)&&Vr[t]?(""+e).trim():e+"px"}function af(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=of(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Fg=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(t,e){if(e){if(Fg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Ol(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,Gs=null,Hs=null;function ch(t){if(t=ki(t)){if(typeof Dl!="function")throw Error(M(280));var e=t.stateNode;e&&(e=ha(e),Dl(t.stateNode,t.type,e))}}function lf(t){Gs?Hs?Hs.push(t):Hs=[t]:Gs=t}function uf(){if(Gs){var t=Gs,e=Hs;if(Hs=Gs=null,ch(t),e)for(t=0;t<e.length;t++)ch(e[t])}}function cf(t,e){return t(e)}function hf(){}var Qa=!1;function df(t,e,n){if(Qa)return t(e,n);Qa=!0;try{return cf(t,e,n)}finally{Qa=!1,(Gs!==null||Hs!==null)&&(hf(),uf())}}function Kr(t,e){var n=t.stateNode;if(n===null)return null;var s=ha(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Ml=!1;if(gn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Ml=!1}function bg(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Lr=!1,So=null,ko=!1,Rl=null,Vg={onError:function(t){Lr=!0,So=t}};function Lg(t,e,n,s,r,i,o,a,l){Lr=!1,So=null,bg.apply(Vg,arguments)}function jg(t,e,n,s,r,i,o,a,l){if(Lg.apply(this,arguments),Lr){if(Lr){var u=So;Lr=!1,So=null}else throw Error(M(198));ko||(ko=!0,Rl=u)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ff(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hh(t){if(ks(t)!==t)throw Error(M(188))}function Wg(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return hh(r),t;if(i===s)return hh(r),e;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function pf(t){return t=Wg(t),t!==null?mf(t):null}function mf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mf(t);if(e!==null)return e;t=t.sibling}return null}var gf=Tt.unstable_scheduleCallback,dh=Tt.unstable_cancelCallback,zg=Tt.unstable_shouldYield,qg=Tt.unstable_requestPaint,Ne=Tt.unstable_now,Bg=Tt.unstable_getCurrentPriorityLevel,Du=Tt.unstable_ImmediatePriority,_f=Tt.unstable_UserBlockingPriority,To=Tt.unstable_NormalPriority,Ug=Tt.unstable_LowPriority,yf=Tt.unstable_IdlePriority,aa=null,en=null;function $g(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(aa,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Qg,Gg=Math.log,Hg=Math.LN2;function Qg(t){return t>>>=0,t===0?32:31-(Gg(t)/Hg|0)|0}var zi=64,qi=4194304;function Pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Pr(a):(i&=o,i!==0&&(s=Pr(i)))}else o=n&~r,o!==0?s=Pr(o):i!==0&&(s=Pr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Bt(e),r=1<<n,s|=t[n],e&=~r;return s}function Xg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=Xg(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vf(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function Xa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function Zg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Bt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Mu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Bt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ae=0;function wf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sf,Ru,kf,Tf,xf,Fl=!1,Bi=[],Vn=null,Ln=null,jn=null,Jr=new Map,ei=new Map,Mn=[],Kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fh(t,e){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(e.pointerId)}}function Cr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=ki(e),e!==null&&Ru(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Jg(t,e,n,s,r){switch(e){case"focusin":return Vn=Cr(Vn,t,e,n,s,r),!0;case"dragenter":return Ln=Cr(Ln,t,e,n,s,r),!0;case"mouseover":return jn=Cr(jn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Jr.set(i,Cr(Jr.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ei.set(i,Cr(ei.get(i)||null,t,e,n,s,r)),!0}return!1}function Cf(t){var e=os(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=ff(n),e!==null){t.blockedOn=e,xf(t.priority,function(){kf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Il=s,n.target.dispatchEvent(s),Il=null}else return e=ki(n),e!==null&&Ru(e),t.blockedOn=n,!1;e.shift()}return!0}function ph(t,e,n){ao(t)&&n.delete(e)}function e_(){Fl=!1,Vn!==null&&ao(Vn)&&(Vn=null),Ln!==null&&ao(Ln)&&(Ln=null),jn!==null&&ao(jn)&&(jn=null),Jr.forEach(ph),ei.forEach(ph)}function Er(t,e){t.blockedOn===e&&(t.blockedOn=null,Fl||(Fl=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,e_)))}function ti(t){function e(r){return Er(r,t)}if(0<Bi.length){Er(Bi[0],t);for(var n=1;n<Bi.length;n++){var s=Bi[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Vn!==null&&Er(Vn,t),Ln!==null&&Er(Ln,t),jn!==null&&Er(jn,t),Jr.forEach(e),ei.forEach(e),n=0;n<Mn.length;n++)s=Mn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&Mn.shift()}var Qs=kn.ReactCurrentBatchConfig,Co=!0;function t_(t,e,n,s){var r=ae,i=Qs.transition;Qs.transition=null;try{ae=1,Pu(t,e,n,s)}finally{ae=r,Qs.transition=i}}function n_(t,e,n,s){var r=ae,i=Qs.transition;Qs.transition=null;try{ae=4,Pu(t,e,n,s)}finally{ae=r,Qs.transition=i}}function Pu(t,e,n,s){if(Co){var r=bl(t,e,n,s);if(r===null)il(t,e,s,Eo,n),fh(t,s);else if(Jg(r,t,e,n,s))s.stopPropagation();else if(fh(t,s),e&4&&-1<Kg.indexOf(t)){for(;r!==null;){var i=ki(r);if(i!==null&&Sf(i),i=bl(t,e,n,s),i===null&&il(t,e,s,Eo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else il(t,e,s,null,n)}}var Eo=null;function bl(t,e,n,s){if(Eo=null,t=Iu(s),t=os(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ff(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function Ef(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bg()){case Du:return 1;case _f:return 4;case To:case Ug:return 16;case yf:return 536870912;default:return 16}default:return 16}}var Pn=null,Fu=null,lo=null;function Nf(){if(lo)return lo;var t,e=Fu,n=e.length,s,r="value"in Pn?Pn.value:Pn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return lo=r.slice(t,1<s?1-s:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function mh(){return!1}function Ct(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ui:mh,this.isPropagationStopped=mh,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),e}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=Ct(pr),Si=ke({},pr,{view:0,detail:0}),s_=Ct(Si),Ya,Za,Nr,la=ke({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Ya=t.screenX-Nr.screenX,Za=t.screenY-Nr.screenY):Za=Ya=0,Nr=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Za}}),gh=Ct(la),r_=ke({},la,{dataTransfer:0}),i_=Ct(r_),o_=ke({},Si,{relatedTarget:0}),Ka=Ct(o_),a_=ke({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),l_=Ct(a_),u_=ke({},pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c_=Ct(u_),h_=ke({},pr,{data:0}),_h=Ct(h_),d_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p_[t])?!!e[t]:!1}function Vu(){return m_}var g_=ke({},Si,{key:function(t){if(t.key){var e=d_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),__=Ct(g_),y_=ke({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Ct(y_),v_=ke({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),w_=Ct(v_),S_=ke({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=Ct(S_),T_=ke({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=Ct(T_),C_=[9,13,27,32],Lu=gn&&"CompositionEvent"in window,jr=null;gn&&"documentMode"in document&&(jr=document.documentMode);var E_=gn&&"TextEvent"in window&&!jr,Af=gn&&(!Lu||jr&&8<jr&&11>=jr),vh=" ",wh=!1;function Of(t,e){switch(t){case"keyup":return C_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function N_(t,e){switch(t){case"compositionend":return If(e);case"keypress":return e.which!==32?null:(wh=!0,vh);case"textInput":return t=e.data,t===vh&&wh?null:t;default:return null}}function A_(t,e){if(Ms)return t==="compositionend"||!Lu&&Of(t,e)?(t=Nf(),lo=Fu=Pn=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Af&&e.locale!=="ko"?null:e.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O_[t.type]:e==="textarea"}function Df(t,e,n,s){lf(s),e=No(e,"onChange"),0<e.length&&(n=new bu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Wr=null,ni=null;function I_(t){qf(t,0)}function ua(t){var e=Fs(t);if(ef(e))return t}function D_(t,e){if(t==="change")return e}var Mf=!1;if(gn){var Ja;if(gn){var el="oninput"in document;if(!el){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),el=typeof kh.oninput=="function"}Ja=el}else Ja=!1;Mf=Ja&&(!document.documentMode||9<document.documentMode)}function Th(){Wr&&(Wr.detachEvent("onpropertychange",Rf),ni=Wr=null)}function Rf(t){if(t.propertyName==="value"&&ua(ni)){var e=[];Df(e,ni,t,Iu(t)),df(I_,e)}}function M_(t,e,n){t==="focusin"?(Th(),Wr=e,ni=n,Wr.attachEvent("onpropertychange",Rf)):t==="focusout"&&Th()}function R_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ua(ni)}function P_(t,e){if(t==="click")return ua(e)}function F_(t,e){if(t==="input"||t==="change")return ua(e)}function b_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:b_;function si(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!yl.call(e,r)||!Gt(t[r],e[r]))return!1}return!0}function xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,e){var n=xh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xh(n)}}function Pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ff(){for(var t=window,e=wo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wo(t.document)}return e}function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V_(t){var e=Ff(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pf(n.ownerDocument.documentElement,n)){if(s!==null&&ju(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Ch(n,i);var o=Ch(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L_=gn&&"documentMode"in document&&11>=document.documentMode,Rs=null,Vl=null,zr=null,Ll=!1;function Eh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ll||Rs==null||Rs!==wo(s)||(s=Rs,"selectionStart"in s&&ju(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zr&&si(zr,s)||(zr=s,s=No(Vl,"onSelect"),0<s.length&&(e=new bu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Rs)))}function $i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ps={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},tl={},bf={};gn&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function ca(t){if(tl[t])return tl[t];if(!Ps[t])return t;var e=Ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bf)return tl[t]=e[n];return t}var Vf=ca("animationend"),Lf=ca("animationiteration"),jf=ca("animationstart"),Wf=ca("transitionend"),zf=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(t,e){zf.set(t,e),Ss(e,[t])}for(var nl=0;nl<Nh.length;nl++){var sl=Nh[nl],j_=sl.toLowerCase(),W_=sl[0].toUpperCase()+sl.slice(1);Jn(j_,"on"+W_)}Jn(Vf,"onAnimationEnd");Jn(Lf,"onAnimationIteration");Jn(jf,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Wf,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Ah(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,jg(s,e,void 0,t),t.currentTarget=null}function qf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Ah(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Ah(r,a,u),i=l}}}if(ko)throw t=Rl,ko=!1,Rl=null,t}function pe(t,e){var n=e[Bl];n===void 0&&(n=e[Bl]=new Set);var s=t+"__bubble";n.has(s)||(Bf(e,t,2,!1),n.add(s))}function rl(t,e,n){var s=0;e&&(s|=4),Bf(n,t,s,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ri(t){if(!t[Gi]){t[Gi]=!0,Xd.forEach(function(n){n!=="selectionchange"&&(z_.has(n)||rl(n,!1,t),rl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,rl("selectionchange",!1,e))}}function Bf(t,e,n,s){switch(Ef(e)){case 1:var r=t_;break;case 4:r=n_;break;default:r=Pu}n=r.bind(null,e,n,t),r=void 0,!Ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function il(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}df(function(){var u=i,c=Iu(n),h=[];e:{var d=zf.get(t);if(d!==void 0){var g=bu,p=t;switch(t){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":g=__;break;case"focusin":p="focus",g=Ka;break;case"focusout":p="blur",g=Ka;break;case"beforeblur":case"afterblur":g=Ka;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=i_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=w_;break;case Vf:case Lf:case jf:g=l_;break;case Wf:g=k_;break;case"scroll":g=s_;break;case"wheel":g=x_;break;case"copy":case"cut":case"paste":g=c_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yh}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var m=u,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,f!==null&&(x=Kr(m,f),x!=null&&_.push(ii(m,x,y)))),w)break;m=m.return}0<_.length&&(d=new g(d,p,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Il&&(p=n.relatedTarget||n.fromElement)&&(os(p)||p[_n]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?os(p):null,p!==null&&(w=ks(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(_=gh,x="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=yh,x="onPointerLeave",f="onPointerEnter",m="pointer"),w=g==null?d:Fs(g),y=p==null?d:Fs(p),d=new _(x,m+"leave",g,n,c),d.target=w,d.relatedTarget=y,x=null,os(c)===u&&(_=new _(f,m+"enter",p,n,c),_.target=y,_.relatedTarget=w,x=_),w=x,g&&p)t:{for(_=g,f=p,m=0,y=_;y;y=Ns(y))m++;for(y=0,x=f;x;x=Ns(x))y++;for(;0<m-y;)_=Ns(_),m--;for(;0<y-m;)f=Ns(f),y--;for(;m--;){if(_===f||f!==null&&_===f.alternate)break t;_=Ns(_),f=Ns(f)}_=null}else _=null;g!==null&&Oh(h,d,g,_,!1),p!==null&&w!==null&&Oh(h,w,p,_,!0)}}e:{if(d=u?Fs(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var v=D_;else if(Sh(d))if(Mf)v=F_;else{v=R_;var k=M_}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=P_);if(v&&(v=v(t,u))){Df(h,v,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Cl(d,"number",d.value)}switch(k=u?Fs(u):window,t){case"focusin":(Sh(k)||k.contentEditable==="true")&&(Rs=k,Vl=u,zr=null);break;case"focusout":zr=Vl=Rs=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Eh(h,n,c);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Eh(h,n,c)}var T;if(Lu)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ms?Of(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Af&&n.locale!=="ko"&&(Ms||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ms&&(T=Nf()):(Pn=c,Fu="value"in Pn?Pn.value:Pn.textContent,Ms=!0)),k=No(u,S),0<k.length&&(S=new _h(S,t,null,n,c),h.push({event:S,listeners:k}),T?S.data=T:(T=If(n),T!==null&&(S.data=T)))),(T=E_?N_(t,n):A_(t,n))&&(u=No(u,"onBeforeInput"),0<u.length&&(c=new _h("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}qf(h,e)})}function ii(t,e,n){return{instance:t,listener:e,currentTarget:n}}function No(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Kr(t,n),i!=null&&s.unshift(ii(t,i,r)),i=Kr(t,e),i!=null&&s.push(ii(t,i,r))),t=t.return}return s}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=Kr(n,i),l!=null&&o.unshift(ii(n,l,a))):r||(l=Kr(n,i),l!=null&&o.push(ii(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var q_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function Ih(t){return(typeof t=="string"?t:""+t).replace(q_,`
`).replace(B_,"")}function Hi(t,e,n){if(e=Ih(e),Ih(t)!==e&&n)throw Error(M(425))}function Ao(){}var jl=null,Wl=null;function zl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,$_=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(t){return Dh.resolve(null).then(t).catch(G_)}:ql;function G_(t){setTimeout(function(){throw t})}function ol(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ti(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ti(e)}function Wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+mr,oi="__reactProps$"+mr,_n="__reactContainer$"+mr,Bl="__reactEvents$"+mr,H_="__reactListeners$"+mr,Q_="__reactHandles$"+mr;function os(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_n]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mh(t);t!==null;){if(n=t[Jt])return n;t=Mh(t)}return e}t=n,n=t.parentNode}return null}function ki(t){return t=t[Jt]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function ha(t){return t[oi]||null}var Ul=[],bs=-1;function es(t){return{current:t}}function me(t){0>bs||(t.current=Ul[bs],Ul[bs]=null,bs--)}function de(t,e){bs++,Ul[bs]=t.current,t.current=e}var Hn={},Ye=es(Hn),ct=es(!1),fs=Hn;function er(t,e){var n=t.type.contextTypes;if(!n)return Hn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ht(t){return t=t.childContextTypes,t!=null}function Oo(){me(ct),me(Ye)}function Rh(t,e,n){if(Ye.current!==Hn)throw Error(M(168));de(Ye,e),de(ct,n)}function Uf(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(M(108,Mg(t)||"Unknown",r));return ke({},n,s)}function Io(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hn,fs=Ye.current,de(Ye,t),de(ct,ct.current),!0}function Ph(t,e,n){var s=t.stateNode;if(!s)throw Error(M(169));n?(t=Uf(t,e,fs),s.__reactInternalMemoizedMergedChildContext=t,me(ct),me(Ye),de(Ye,t)):me(ct),de(ct,n)}var hn=null,da=!1,al=!1;function $f(t){hn===null?hn=[t]:hn.push(t)}function X_(t){da=!0,$f(t)}function ts(){if(!al&&hn!==null){al=!0;var t=0,e=ae;try{var n=hn;for(ae=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}hn=null,da=!1}catch(r){throw hn!==null&&(hn=hn.slice(t+1)),gf(Du,ts),r}finally{ae=e,al=!1}}return null}var Vs=[],Ls=0,Do=null,Mo=0,Nt=[],At=0,ps=null,dn=1,fn="";function rs(t,e){Vs[Ls++]=Mo,Vs[Ls++]=Do,Do=t,Mo=e}function Gf(t,e,n){Nt[At++]=dn,Nt[At++]=fn,Nt[At++]=ps,ps=t;var s=dn;t=fn;var r=32-Bt(s)-1;s&=~(1<<r),n+=1;var i=32-Bt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,dn=1<<32-Bt(e)+r|n<<r|s,fn=i+t}else dn=1<<i|n<<r|s,fn=t}function Wu(t){t.return!==null&&(rs(t,1),Gf(t,1,0))}function zu(t){for(;t===Do;)Do=Vs[--Ls],Vs[Ls]=null,Mo=Vs[--Ls],Vs[Ls]=null;for(;t===ps;)ps=Nt[--At],Nt[At]=null,fn=Nt[--At],Nt[At]=null,dn=Nt[--At],Nt[At]=null}var kt=null,wt=null,ye=!1,zt=null;function Hf(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,wt=Wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,wt=null,!0):!1;default:return!1}}function $l(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gl(t){if(ye){var e=wt;if(e){var n=e;if(!Fh(t,e)){if($l(t))throw Error(M(418));e=Wn(n.nextSibling);var s=kt;e&&Fh(t,e)?Hf(s,n):(t.flags=t.flags&-4097|2,ye=!1,kt=t)}}else{if($l(t))throw Error(M(418));t.flags=t.flags&-4097|2,ye=!1,kt=t}}}function bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Qi(t){if(t!==kt)return!1;if(!ye)return bh(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zl(t.type,t.memoizedProps)),e&&(e=wt)){if($l(t))throw Qf(),Error(M(418));for(;e;)Hf(t,e),e=Wn(e.nextSibling)}if(bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=Wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=kt?Wn(t.stateNode.nextSibling):null;return!0}function Qf(){for(var t=wt;t;)t=Wn(t.nextSibling)}function tr(){wt=kt=null,ye=!1}function qu(t){zt===null?zt=[t]:zt.push(t)}var Y_=kn.ReactCurrentBatchConfig;function Ar(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Xi(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vh(t){var e=t._init;return e(t._payload)}function Xf(t){function e(f,m){if(t){var y=f.deletions;y===null?(f.deletions=[m],f.flags|=16):y.push(m)}}function n(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function r(f,m){return f=Un(f,m),f.index=0,f.sibling=null,f}function i(f,m,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<m?(f.flags|=2,m):y):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,y,x){return m===null||m.tag!==6?(m=pl(y,f.mode,x),m.return=f,m):(m=r(m,y),m.return=f,m)}function l(f,m,y,x){var v=y.type;return v===Ds?c(f,m,y.props.children,x,y.key):m!==null&&(m.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===On&&Vh(v)===m.type)?(x=r(m,y.props),x.ref=Ar(f,m,y),x.return=f,x):(x=_o(y.type,y.key,y.props,null,f.mode,x),x.ref=Ar(f,m,y),x.return=f,x)}function u(f,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ml(y,f.mode,x),m.return=f,m):(m=r(m,y.children||[]),m.return=f,m)}function c(f,m,y,x,v){return m===null||m.tag!==7?(m=hs(y,f.mode,x,v),m.return=f,m):(m=r(m,y),m.return=f,m)}function h(f,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pl(""+m,f.mode,y),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Li:return y=_o(m.type,m.key,m.props,null,f.mode,y),y.ref=Ar(f,null,m),y.return=f,y;case Is:return m=ml(m,f.mode,y),m.return=f,m;case On:var x=m._init;return h(f,x(m._payload),y)}if(Rr(m)||Tr(m))return m=hs(m,f.mode,y,null),m.return=f,m;Xi(f,m)}return null}function d(f,m,y,x){var v=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return v!==null?null:a(f,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Li:return y.key===v?l(f,m,y,x):null;case Is:return y.key===v?u(f,m,y,x):null;case On:return v=y._init,d(f,m,v(y._payload),x)}if(Rr(y)||Tr(y))return v!==null?null:c(f,m,y,x,null);Xi(f,y)}return null}function g(f,m,y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(y)||null,a(m,f,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Li:return f=f.get(x.key===null?y:x.key)||null,l(m,f,x,v);case Is:return f=f.get(x.key===null?y:x.key)||null,u(m,f,x,v);case On:var k=x._init;return g(f,m,y,k(x._payload),v)}if(Rr(x)||Tr(x))return f=f.get(y)||null,c(m,f,x,v,null);Xi(m,x)}return null}function p(f,m,y,x){for(var v=null,k=null,T=m,S=m=0,E=null;T!==null&&S<y.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var C=d(f,T,y[S],x);if(C===null){T===null&&(T=E);break}t&&T&&C.alternate===null&&e(f,T),m=i(C,m,S),k===null?v=C:k.sibling=C,k=C,T=E}if(S===y.length)return n(f,T),ye&&rs(f,S),v;if(T===null){for(;S<y.length;S++)T=h(f,y[S],x),T!==null&&(m=i(T,m,S),k===null?v=T:k.sibling=T,k=T);return ye&&rs(f,S),v}for(T=s(f,T);S<y.length;S++)E=g(T,f,S,y[S],x),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),m=i(E,m,S),k===null?v=E:k.sibling=E,k=E);return t&&T.forEach(function(N){return e(f,N)}),ye&&rs(f,S),v}function _(f,m,y,x){var v=Tr(y);if(typeof v!="function")throw Error(M(150));if(y=v.call(y),y==null)throw Error(M(151));for(var k=v=null,T=m,S=m=0,E=null,C=y.next();T!==null&&!C.done;S++,C=y.next()){T.index>S?(E=T,T=null):E=T.sibling;var N=d(f,T,C.value,x);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(f,T),m=i(N,m,S),k===null?v=N:k.sibling=N,k=N,T=E}if(C.done)return n(f,T),ye&&rs(f,S),v;if(T===null){for(;!C.done;S++,C=y.next())C=h(f,C.value,x),C!==null&&(m=i(C,m,S),k===null?v=C:k.sibling=C,k=C);return ye&&rs(f,S),v}for(T=s(f,T);!C.done;S++,C=y.next())C=g(T,f,S,C.value,x),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?S:C.key),m=i(C,m,S),k===null?v=C:k.sibling=C,k=C);return t&&T.forEach(function(A){return e(f,A)}),ye&&rs(f,S),v}function w(f,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Ds&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Li:e:{for(var v=y.key,k=m;k!==null;){if(k.key===v){if(v=y.type,v===Ds){if(k.tag===7){n(f,k.sibling),m=r(k,y.props.children),m.return=f,f=m;break e}}else if(k.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===On&&Vh(v)===k.type){n(f,k.sibling),m=r(k,y.props),m.ref=Ar(f,k,y),m.return=f,f=m;break e}n(f,k);break}else e(f,k);k=k.sibling}y.type===Ds?(m=hs(y.props.children,f.mode,x,y.key),m.return=f,f=m):(x=_o(y.type,y.key,y.props,null,f.mode,x),x.ref=Ar(f,m,y),x.return=f,f=x)}return o(f);case Is:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(f,m.sibling),m=r(m,y.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else e(f,m);m=m.sibling}m=ml(y,f.mode,x),m.return=f,f=m}return o(f);case On:return k=y._init,w(f,m,k(y._payload),x)}if(Rr(y))return p(f,m,y,x);if(Tr(y))return _(f,m,y,x);Xi(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(f,m.sibling),m=r(m,y),m.return=f,f=m):(n(f,m),m=pl(y,f.mode,x),m.return=f,f=m),o(f)):n(f,m)}return w}var nr=Xf(!0),Yf=Xf(!1),Ro=es(null),Po=null,js=null,Bu=null;function Uu(){Bu=js=Po=null}function $u(t){var e=Ro.current;me(Ro),t._currentValue=e}function Hl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Po=t,Bu=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(Bu!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(Po===null)throw Error(M(308));js=t,Po.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var as=null;function Gu(t){as===null?as=[t]:as.push(t)}function Zf(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Gu(e)):(n.next=r.next,r.next=n),e.interleaved=n,yn(t,s)}function yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function Hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,yn(t,n)}return r=s.interleaved,r===null?(e.next=e,Gu(s)):(e.next=r.next,r.next=e),s.interleaved=e,yn(t,n)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Mu(t,n)}}function Lh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,s){var r=t.updateQueue;In=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,_=a;switch(d=e,g=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=ke({},h,d);break e;case 2:In=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=h}}function jh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(M(191,r));r.call(s)}}}var Ti={},tn=es(Ti),ai=es(Ti),li=es(Ti);function ls(t){if(t===Ti)throw Error(M(174));return t}function Qu(t,e){switch(de(li,e),de(ai,t),de(tn,Ti),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nl(e,t)}me(tn),de(tn,e)}function sr(){me(tn),me(ai),me(li)}function Jf(t){ls(li.current);var e=ls(tn.current),n=Nl(e,t.type);e!==n&&(de(ai,t),de(tn,n))}function Xu(t){ai.current===t&&(me(tn),me(ai))}var we=es(0);function bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ll=[];function Yu(){for(var t=0;t<ll.length;t++)ll[t]._workInProgressVersionPrimary=null;ll.length=0}var ho=kn.ReactCurrentDispatcher,ul=kn.ReactCurrentBatchConfig,ms=0,Se=null,Pe=null,Le=null,Vo=!1,qr=!1,ui=0,Z_=0;function He(){throw Error(M(321))}function Zu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function Ku(t,e,n,s,r,i){if(ms=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=t===null||t.memoizedState===null?ty:ny,t=n(s,r),qr){i=0;do{if(qr=!1,ui=0,25<=i)throw Error(M(301));i+=1,Le=Pe=null,e.updateQueue=null,ho.current=sy,t=n(s,r)}while(qr)}if(ho.current=Lo,e=Pe!==null&&Pe.next!==null,ms=0,Le=Pe=Se=null,Vo=!1,e)throw Error(M(300));return t}function Ju(){var t=ui!==0;return ui=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Se.memoizedState=Le=t:Le=Le.next=t,Le}function bt(){if(Pe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?Se.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(M(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?Se.memoizedState=Le=t:Le=Le.next=t}return Le}function ci(t,e){return typeof e=="function"?e(t):e}function cl(t){var e=bt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=Pe,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((ms&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,Se.lanes|=c,gs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Gt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Se.lanes|=i,gs|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hl(t){var e=bt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Gt(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function ep(){}function tp(t,e){var n=Se,s=bt(),r=e(),i=!Gt(s.memoizedState,r);if(i&&(s.memoizedState=r,ut=!0),s=s.queue,ec(rp.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,hi(9,sp.bind(null,n,s,r,e),void 0,null),je===null)throw Error(M(349));ms&30||np(n,e,r)}return r}function np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sp(t,e,n,s){e.value=n,e.getSnapshot=s,ip(e)&&op(t)}function rp(t,e,n){return n(function(){ip(e)&&op(t)})}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function op(t){var e=yn(t,1);e!==null&&Ut(e,t,1,-1)}function Wh(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},e.queue=t,t=t.dispatch=ey.bind(null,Se,t),[e.memoizedState,t]}function hi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function ap(){return bt().memoizedState}function fo(t,e,n,s){var r=Kt();Se.flags|=t,r.memoizedState=hi(1|e,n,void 0,s===void 0?null:s)}function fa(t,e,n,s){var r=bt();s=s===void 0?null:s;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,s!==null&&Zu(s,o.deps)){r.memoizedState=hi(e,n,i,s);return}}Se.flags|=t,r.memoizedState=hi(1|e,n,i,s)}function zh(t,e){return fo(8390656,8,t,e)}function ec(t,e){return fa(2048,8,t,e)}function lp(t,e){return fa(4,2,t,e)}function up(t,e){return fa(4,4,t,e)}function cp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hp(t,e,n){return n=n!=null?n.concat([t]):null,fa(4,4,cp.bind(null,e,t),n)}function tc(){}function dp(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Zu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function fp(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Zu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function pp(t,e,n){return ms&21?(Gt(n,e)||(n=vf(),Se.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function K_(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var s=ul.transition;ul.transition={};try{t(!1),e()}finally{ae=n,ul.transition=s}}function mp(){return bt().memoizedState}function J_(t,e,n){var s=Bn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},gp(t))_p(e,n);else if(n=Zf(t,e,n,s),n!==null){var r=nt();Ut(n,t,s,r),yp(n,e,s)}}function ey(t,e,n){var s=Bn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(gp(t))_p(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Gt(a,o)){var l=e.interleaved;l===null?(r.next=r,Gu(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Zf(t,e,r,s),n!==null&&(r=nt(),Ut(n,t,s,r),yp(n,e,s))}}function gp(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function _p(t,e){qr=Vo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Mu(t,n)}}var Lo={readContext:Ft,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},ty={readContext:Ft,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:zh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fo(4194308,4,cp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Kt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=J_.bind(null,Se,t),[s.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:Wh,useDebugValue:tc,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=Wh(!1),e=t[0];return t=K_.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Se,r=Kt();if(ye){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),je===null)throw Error(M(349));ms&30||np(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,zh(rp.bind(null,s,i,t),[t]),s.flags|=2048,hi(9,sp.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Kt(),e=je.identifierPrefix;if(ye){var n=fn,s=dn;n=(s&~(1<<32-Bt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ui++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ny={readContext:Ft,useCallback:dp,useContext:Ft,useEffect:ec,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:fp,useReducer:cl,useRef:ap,useState:function(){return cl(ci)},useDebugValue:tc,useDeferredValue:function(t){var e=bt();return pp(e,Pe.memoizedState,t)},useTransition:function(){var t=cl(ci)[0],e=bt().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:mp,unstable_isNewReconciler:!1},sy={readContext:Ft,useCallback:dp,useContext:Ft,useEffect:ec,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:fp,useReducer:hl,useRef:ap,useState:function(){return hl(ci)},useDebugValue:tc,useDeferredValue:function(t){var e=bt();return Pe===null?e.memoizedState=t:pp(e,Pe.memoizedState,t)},useTransition:function(){var t=hl(ci)[0],e=bt().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:mp,unstable_isNewReconciler:!1};function jt(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ql(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pa={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=nt(),r=Bn(t),i=pn(s,r);i.payload=e,n!=null&&(i.callback=n),e=zn(t,i,r),e!==null&&(Ut(e,t,r,s),co(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=nt(),r=Bn(t),i=pn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zn(t,i,r),e!==null&&(Ut(e,t,r,s),co(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),s=Bn(t),r=pn(n,s);r.tag=2,e!=null&&(r.callback=e),e=zn(t,r,s),e!==null&&(Ut(e,t,s,n),co(e,t,s))}};function qh(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!si(n,s)||!si(r,i):!0}function vp(t,e,n){var s=!1,r=Hn,i=e.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(r=ht(e)?fs:Ye.current,s=e.contextTypes,i=(s=s!=null)?er(t,r):Hn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pa,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&pa.enqueueReplaceState(e,e.state,null)}function Xl(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Hu(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ft(i):(i=ht(e)?fs:Ye.current,r.context=er(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ql(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&pa.enqueueReplaceState(r,r.state,null),Fo(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function rr(t,e){try{var n="",s=e;do n+=Dg(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function dl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ry=typeof WeakMap=="function"?WeakMap:Map;function wp(t,e,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Wo||(Wo=!0,ou=s),Yl(t,e)},n}function Sp(t,e,n){n=pn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Yl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yl(t,e),typeof s!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uh(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new ry;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=yy.bind(null,t,e,n),e.then(t,t))}function $h(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gh(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pn(-1,1),e.tag=2,zn(n,e,1))),n.lanes|=1),t)}var iy=kn.ReactCurrentOwner,ut=!1;function Je(t,e,n,s){e.child=t===null?Yf(e,null,n,s):nr(e,t.child,n,s)}function Hh(t,e,n,s,r){n=n.render;var i=e.ref;return Xs(e,r),s=Ku(t,e,n,s,i,r),n=Ju(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,vn(t,e,r)):(ye&&n&&Wu(e),e.flags|=1,Je(t,e,s,r),e.child)}function Qh(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!uc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kp(t,e,i,s,r)):(t=_o(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:si,n(o,s)&&t.ref===e.ref)return vn(t,e,r)}return e.flags|=1,t=Un(i,s),t.ref=e.ref,t.return=e,e.child=t}function kp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(si(i,s)&&t.ref===e.ref)if(ut=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,vn(t,e,r)}return Zl(t,e,n,s,r)}function Tp(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(zs,yt),yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(zs,yt),yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,de(zs,yt),yt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,de(zs,yt),yt|=s;return Je(t,e,r,n),e.child}function xp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zl(t,e,n,s,r){var i=ht(n)?fs:Ye.current;return i=er(e,i),Xs(e,r),n=Ku(t,e,n,s,i,r),s=Ju(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,vn(t,e,r)):(ye&&s&&Wu(e),e.flags|=1,Je(t,e,n,r),e.child)}function Xh(t,e,n,s,r){if(ht(n)){var i=!0;Io(e)}else i=!1;if(Xs(e,r),e.stateNode===null)po(t,e),vp(e,n,s),Xl(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=ht(n)?fs:Ye.current,u=er(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&Bh(e,o,s,u),In=!1;var d=e.memoizedState;o.state=d,Fo(e,s,o,r),l=e.memoizedState,a!==s||d!==l||ct.current||In?(typeof c=="function"&&(Ql(e,n,c,s),l=e.memoizedState),(a=In||qh(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Kf(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=ht(n)?fs:Ye.current,l=er(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Bh(e,o,s,l),In=!1,d=e.memoizedState,o.state=d,Fo(e,s,o,r);var p=e.memoizedState;a!==h||d!==p||ct.current||In?(typeof g=="function"&&(Ql(e,n,g,s),p=e.memoizedState),(u=In||qh(e,n,u,s,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Kl(t,e,n,s,i,r)}function Kl(t,e,n,s,r,i){xp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Ph(e,n,!1),vn(t,e,i);s=e.stateNode,iy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=nr(e,t.child,null,i),e.child=nr(e,null,a,i)):Je(t,e,a,i),e.memoizedState=s.state,r&&Ph(e,n,!0),e.child}function Cp(t){var e=t.stateNode;e.pendingContext?Rh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rh(t,e.context,!1),Qu(t,e.containerInfo)}function Yh(t,e,n,s,r){return tr(),qu(r),e.flags|=256,Je(t,e,n,s),e.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ep(t,e,n){var s=e.pendingProps,r=we.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),de(we,r&1),t===null)return Gl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_a(o,s,0,null),t=hs(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=eu(n),e.memoizedState=Jl,t):nc(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return oy(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Un(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Un(a,i):(i=hs(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jl,s}return i=t.child,t=i.sibling,s=Un(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function nc(t,e){return e=_a({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yi(t,e,n,s){return s!==null&&qu(s),nr(e,t.child,null,n),t=nc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oy(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=dl(Error(M(422))),Yi(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=_a({mode:"visible",children:s.children},r,0,null),i=hs(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&nr(e,t.child,null,o),e.child.memoizedState=eu(o),e.memoizedState=Jl,i);if(!(e.mode&1))return Yi(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(M(419)),s=dl(i,s,void 0),Yi(t,e,o,s)}if(a=(o&t.childLanes)!==0,ut||a){if(s=je,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,yn(t,r),Ut(s,t,r,-1))}return lc(),s=dl(Error(M(421))),Yi(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=vy.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,wt=Wn(r.nextSibling),kt=e,ye=!0,zt=null,t!==null&&(Nt[At++]=dn,Nt[At++]=fn,Nt[At++]=ps,dn=t.id,fn=t.overflow,ps=e),e=nc(e,s.children),e.flags|=4096,e)}function Zh(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Hl(t.return,e,n)}function fl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Np(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Je(t,e,s.children,n),s=we.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zh(t,n,e);else if(t.tag===19)Zh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(de(we,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&bo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),fl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&bo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}fl(e,!0,n,null,i);break;case"together":fl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ay(t,e,n){switch(e.tag){case 3:Cp(e),tr();break;case 5:Jf(e);break;case 1:ht(e.type)&&Io(e);break;case 4:Qu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;de(Ro,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(de(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?Ep(t,e,n):(de(we,we.current&1),t=vn(t,e,n),t!==null?t.sibling:null);de(we,we.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Np(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),de(we,we.current),s)break;return null;case 22:case 23:return e.lanes=0,Tp(t,e,n)}return vn(t,e,n)}var Ap,tu,Op,Ip;Ap=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tu=function(){};Op=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ls(tn.current);var i=null;switch(n){case"input":r=Tl(t,r),s=Tl(t,s),i=[];break;case"select":r=ke({},r,{value:void 0}),s=ke({},s,{value:void 0}),i=[];break;case"textarea":r=El(t,r),s=El(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Ao)}Al(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ip=function(t,e,n,s){n!==s&&(e.flags|=4)};function Or(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ly(t,e,n){var s=e.pendingProps;switch(zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ht(e.type)&&Oo(),Qe(e),null;case 3:return s=e.stateNode,sr(),me(ct),me(Ye),Yu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(uu(zt),zt=null))),tu(t,e),Qe(e),null;case 5:Xu(e);var r=ls(li.current);if(n=e.type,t!==null&&e.stateNode!=null)Op(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(M(166));return Qe(e),null}if(t=ls(tn.current),Qi(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Jt]=e,s[oi]=i,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(r=0;r<Fr.length;r++)pe(Fr[r],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":oh(s,i),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pe("invalid",s);break;case"textarea":lh(s,i),pe("invalid",s)}Al(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hi(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hi(s.textContent,a,t),r=["children",""+a]):Yr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",s)}switch(n){case"input":ji(s),ah(s,i,!0);break;case"textarea":ji(s),uh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ao)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Jt]=e,t[oi]=s,Ap(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ol(n,s),n){case"dialog":pe("cancel",t),pe("close",t),r=s;break;case"iframe":case"object":case"embed":pe("load",t),r=s;break;case"video":case"audio":for(r=0;r<Fr.length;r++)pe(Fr[r],t);r=s;break;case"source":pe("error",t),r=s;break;case"img":case"image":case"link":pe("error",t),pe("load",t),r=s;break;case"details":pe("toggle",t),r=s;break;case"input":oh(t,s),r=Tl(t,s),pe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ke({},s,{value:void 0}),pe("invalid",t);break;case"textarea":lh(t,s),r=El(t,s),pe("invalid",t);break;default:r=s}Al(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?af(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zr(t,l):typeof l=="number"&&Zr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",t):l!=null&&Eu(t,i,l,o))}switch(n){case"input":ji(t),ah(t,s,!1);break;case"textarea":ji(t),uh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Gn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?$s(t,!!s.multiple,i,!1):s.defaultValue!=null&&$s(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ao)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)Ip(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(M(166));if(n=ls(li.current),ls(tn.current),Qi(e)){if(s=e.stateNode,n=e.memoizedProps,s[Jt]=e,(i=s.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:Hi(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hi(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Jt]=e,e.stateNode=s}return Qe(e),null;case 13:if(me(we),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&wt!==null&&e.mode&1&&!(e.flags&128))Qf(),tr(),e.flags|=98560,i=!1;else if(i=Qi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Jt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),i=!1}else zt!==null&&(uu(zt),zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Fe===0&&(Fe=3):lc())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return sr(),tu(t,e),t===null&&ri(e.stateNode.containerInfo),Qe(e),null;case 10:return $u(e.type._context),Qe(e),null;case 17:return ht(e.type)&&Oo(),Qe(e),null;case 19:if(me(we),i=e.memoizedState,i===null)return Qe(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Or(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bo(t),o!==null){for(e.flags|=128,Or(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(we,we.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ne()>ir&&(e.flags|=128,s=!0,Or(i,!1),e.lanes=4194304)}else{if(!s)if(t=bo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return Qe(e),null}else 2*Ne()-i.renderingStartTime>ir&&n!==1073741824&&(e.flags|=128,s=!0,Or(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ne(),e.sibling=null,n=we.current,de(we,s?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return ac(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?yt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function uy(t,e){switch(zu(e),e.tag){case 1:return ht(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sr(),me(ct),me(Ye),Yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xu(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return sr(),null;case 10:return $u(e.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var Zi=!1,Xe=!1,cy=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(t,e,s)}else n.current=null}function nu(t,e,n){try{n()}catch(s){xe(t,e,s)}}var Kh=!1;function hy(t,e){if(jl=Co,t=Ff(),ju(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:t,selectionRange:n},Co=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,w=p.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:jt(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=Kh,Kh=!1,p}function Br(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&nu(e,n,i)}r=r.next}while(r!==s)}}function ma(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function su(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dp(t){var e=t.alternate;e!==null&&(t.alternate=null,Dp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[oi],delete e[Bl],delete e[H_],delete e[Q_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mp(t){return t.tag===5||t.tag===3||t.tag===4}function Jh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ru(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ao));else if(s!==4&&(t=t.child,t!==null))for(ru(t,e,n),t=t.sibling;t!==null;)ru(t,e,n),t=t.sibling}function iu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(iu(t,e,n),t=t.sibling;t!==null;)iu(t,e,n),t=t.sibling}var ze=null,Wt=!1;function Nn(t,e,n){for(n=n.child;n!==null;)Rp(t,e,n),n=n.sibling}function Rp(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(aa,n)}catch{}switch(n.tag){case 5:Xe||Ws(n,e);case 6:var s=ze,r=Wt;ze=null,Nn(t,e,n),ze=s,Wt=r,ze!==null&&(Wt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Wt?(t=ze,n=n.stateNode,t.nodeType===8?ol(t.parentNode,n):t.nodeType===1&&ol(t,n),ti(t)):ol(ze,n.stateNode));break;case 4:s=ze,r=Wt,ze=n.stateNode.containerInfo,Wt=!0,Nn(t,e,n),ze=s,Wt=r;break;case 0:case 11:case 14:case 15:if(!Xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nu(n,e,o),r=r.next}while(r!==s)}Nn(t,e,n);break;case 1:if(!Xe&&(Ws(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){xe(n,e,a)}Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:n.mode&1?(Xe=(s=Xe)||n.memoizedState!==null,Nn(t,e,n),Xe=s):Nn(t,e,n);break;default:Nn(t,e,n)}}function ed(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cy),e.forEach(function(s){var r=wy.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Wt=!1;break e;case 3:ze=a.stateNode.containerInfo,Wt=!0;break e;case 4:ze=a.stateNode.containerInfo,Wt=!0;break e}a=a.return}if(ze===null)throw Error(M(160));Rp(i,o,r),ze=null,Wt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){xe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pp(e,t),e=e.sibling}function Pp(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),Zt(t),s&4){try{Br(3,t,t.return),ma(3,t)}catch(_){xe(t,t.return,_)}try{Br(5,t,t.return)}catch(_){xe(t,t.return,_)}}break;case 1:Lt(e,t),Zt(t),s&512&&n!==null&&Ws(n,n.return);break;case 5:if(Lt(e,t),Zt(t),s&512&&n!==null&&Ws(n,n.return),t.flags&32){var r=t.stateNode;try{Zr(r,"")}catch(_){xe(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tf(r,i),Ol(a,o);var u=Ol(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?af(r,h):c==="dangerouslySetInnerHTML"?rf(r,h):c==="children"?Zr(r,h):Eu(r,c,h,u)}switch(a){case"input":xl(r,i);break;case"textarea":nf(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$s(r,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?$s(r,!!i.multiple,i.defaultValue,!0):$s(r,!!i.multiple,i.multiple?[]:"",!1))}r[oi]=i}catch(_){xe(t,t.return,_)}}break;case 6:if(Lt(e,t),Zt(t),s&4){if(t.stateNode===null)throw Error(M(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){xe(t,t.return,_)}}break;case 3:if(Lt(e,t),Zt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ti(e.containerInfo)}catch(_){xe(t,t.return,_)}break;case 4:Lt(e,t),Zt(t);break;case 13:Lt(e,t),Zt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ic=Ne())),s&4&&ed(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(u=Xe)||c,Lt(e,t),Xe=u):Lt(e,t),Zt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(h=W=c;W!==null;){switch(d=W,g=d.child,d.tag){case 0:case 11:case 14:case 15:Br(4,d,d.return);break;case 1:Ws(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){xe(s,n,_)}}break;case 5:Ws(d,d.return);break;case 22:if(d.memoizedState!==null){nd(h);continue}}g!==null?(g.return=d,W=g):nd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=of("display",o))}catch(_){xe(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){xe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lt(e,t),Zt(t),s&4&&ed(t);break;case 21:break;default:Lt(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mp(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Zr(r,""),s.flags&=-33);var i=Jh(t);iu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Jh(t);ru(t,a,o);break;default:throw Error(M(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dy(t,e,n){W=t,Fp(t)}function Fp(t,e,n){for(var s=(t.mode&1)!==0;W!==null;){var r=W,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Zi;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=Zi;var u=Xe;if(Zi=o,(Xe=l)&&!u)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?sd(r):l!==null?(l.return=o,W=l):sd(r);for(;i!==null;)W=i,Fp(i),i=i.sibling;W=r,Zi=a,Xe=u}td(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,W=i):td(t)}}function td(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||ma(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Xe)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jh(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ti(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Xe||e.flags&512&&su(e)}catch(d){xe(e,e.return,d)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function nd(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function sd(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ma(4,e)}catch(l){xe(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){xe(e,r,l)}}var i=e.return;try{su(e)}catch(l){xe(e,i,l)}break;case 5:var o=e.return;try{su(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var fy=Math.ceil,jo=kn.ReactCurrentDispatcher,sc=kn.ReactCurrentOwner,Mt=kn.ReactCurrentBatchConfig,ne=0,je=null,De=null,Be=0,yt=0,zs=es(0),Fe=0,di=null,gs=0,ga=0,rc=0,Ur=null,at=null,ic=0,ir=1/0,un=null,Wo=!1,ou=null,qn=null,Ki=!1,Fn=null,zo=0,$r=0,au=null,mo=-1,go=0;function nt(){return ne&6?Ne():mo!==-1?mo:mo=Ne()}function Bn(t){return t.mode&1?ne&2&&Be!==0?Be&-Be:Y_.transition!==null?(go===0&&(go=vf()),go):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Ef(t.type)),t):1}function Ut(t,e,n,s){if(50<$r)throw $r=0,au=null,Error(M(185));wi(t,n,s),(!(ne&2)||t!==je)&&(t===je&&(!(ne&2)&&(ga|=n),Fe===4&&Rn(t,Be)),dt(t,s),n===1&&ne===0&&!(e.mode&1)&&(ir=Ne()+500,da&&ts()))}function dt(t,e){var n=t.callbackNode;Yg(t,e);var s=xo(t,t===je?Be:0);if(s===0)n!==null&&dh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&dh(n),e===1)t.tag===0?X_(rd.bind(null,t)):$f(rd.bind(null,t)),$_(function(){!(ne&6)&&ts()}),n=null;else{switch(wf(s)){case 1:n=Du;break;case 4:n=_f;break;case 16:n=To;break;case 536870912:n=yf;break;default:n=To}n=Bp(n,bp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bp(t,e){if(mo=-1,go=0,ne&6)throw Error(M(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var s=xo(t,t===je?Be:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=qo(t,s);else{e=s;var r=ne;ne|=2;var i=Lp();(je!==t||Be!==e)&&(un=null,ir=Ne()+500,cs(t,e));do try{gy();break}catch(a){Vp(t,a)}while(!0);Uu(),jo.current=i,ne=r,De!==null?e=0:(je=null,Be=0,e=Fe)}if(e!==0){if(e===2&&(r=Pl(t),r!==0&&(s=r,e=lu(t,r))),e===1)throw n=di,cs(t,0),Rn(t,s),dt(t,Ne()),n;if(e===6)Rn(t,s);else{if(r=t.current.alternate,!(s&30)&&!py(r)&&(e=qo(t,s),e===2&&(i=Pl(t),i!==0&&(s=i,e=lu(t,i))),e===1))throw n=di,cs(t,0),Rn(t,s),dt(t,Ne()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(M(345));case 2:is(t,at,un);break;case 3:if(Rn(t,s),(s&130023424)===s&&(e=ic+500-Ne(),10<e)){if(xo(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){nt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ql(is.bind(null,t,at,un),e);break}is(t,at,un);break;case 4:if(Rn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Bt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Ne()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*fy(s/1960))-s,10<s){t.timeoutHandle=ql(is.bind(null,t,at,un),s);break}is(t,at,un);break;case 5:is(t,at,un);break;default:throw Error(M(329))}}}return dt(t,Ne()),t.callbackNode===n?bp.bind(null,t):null}function lu(t,e){var n=Ur;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=qo(t,e),t!==2&&(e=at,at=n,e!==null&&uu(e)),t}function uu(t){at===null?at=t:at.push.apply(at,t)}function py(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Gt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~rc,e&=~ga,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),s=1<<n;t[n]=-1,e&=~s}}function rd(t){if(ne&6)throw Error(M(327));Ys();var e=xo(t,0);if(!(e&1))return dt(t,Ne()),null;var n=qo(t,e);if(t.tag!==0&&n===2){var s=Pl(t);s!==0&&(e=s,n=lu(t,s))}if(n===1)throw n=di,cs(t,0),Rn(t,e),dt(t,Ne()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,at,un),dt(t,Ne()),null}function oc(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(ir=Ne()+500,da&&ts())}}function _s(t){Fn!==null&&Fn.tag===0&&!(ne&6)&&Ys();var e=ne;ne|=1;var n=Mt.transition,s=ae;try{if(Mt.transition=null,ae=1,t)return t()}finally{ae=s,Mt.transition=n,ne=e,!(ne&6)&&ts()}}function ac(){yt=zs.current,me(zs)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U_(n)),De!==null)for(n=De.return;n!==null;){var s=n;switch(zu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Oo();break;case 3:sr(),me(ct),me(Ye),Yu();break;case 5:Xu(s);break;case 4:sr();break;case 13:me(we);break;case 19:me(we);break;case 10:$u(s.type._context);break;case 22:case 23:ac()}n=n.return}if(je=t,De=t=Un(t.current,null),Be=yt=e,Fe=0,di=null,rc=ga=gs=0,at=Ur=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}as=null}return t}function Vp(t,e){do{var n=De;try{if(Uu(),ho.current=Lo,Vo){for(var s=Se.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Vo=!1}if(ms=0,Le=Pe=Se=null,qr=!1,ui=0,sc.current=null,n===null||n.return===null){Fe=1,di=e,De=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$h(o);if(g!==null){g.flags&=-257,Gh(g,o,a,i,e),g.mode&1&&Uh(i,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var _=new Set;_.add(l),e.updateQueue=_}else p.add(l);break e}else{if(!(e&1)){Uh(i,u,e),lc();break e}l=Error(M(426))}}else if(ye&&a.mode&1){var w=$h(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gh(w,o,a,i,e),qu(rr(l,a));break e}}i=l=rr(l,a),Fe!==4&&(Fe=2),Ur===null?Ur=[i]:Ur.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=wp(i,l,e);Lh(i,f);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qn===null||!qn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Sp(i,a,e);Lh(i,x);break e}}i=i.return}while(i!==null)}Wp(n)}catch(v){e=v,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Lp(){var t=jo.current;return jo.current=Lo,t===null?Lo:t}function lc(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),je===null||!(gs&268435455)&&!(ga&268435455)||Rn(je,Be)}function qo(t,e){var n=ne;ne|=2;var s=Lp();(je!==t||Be!==e)&&(un=null,cs(t,e));do try{my();break}catch(r){Vp(t,r)}while(!0);if(Uu(),ne=n,jo.current=s,De!==null)throw Error(M(261));return je=null,Be=0,Fe}function my(){for(;De!==null;)jp(De)}function gy(){for(;De!==null&&!zg();)jp(De)}function jp(t){var e=qp(t.alternate,t,yt);t.memoizedProps=t.pendingProps,e===null?Wp(t):De=e,sc.current=null}function Wp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uy(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,De=null;return}}else if(n=ly(n,e,yt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Fe===0&&(Fe=5)}function is(t,e,n){var s=ae,r=Mt.transition;try{Mt.transition=null,ae=1,_y(t,e,n,s)}finally{Mt.transition=r,ae=s}return null}function _y(t,e,n,s){do Ys();while(Fn!==null);if(ne&6)throw Error(M(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zg(t,i),t===je&&(De=je=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,Bp(To,function(){return Ys(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var o=ae;ae=1;var a=ne;ne|=4,sc.current=null,hy(t,n),Pp(n,t),V_(Wl),Co=!!jl,Wl=jl=null,t.current=n,dy(n),qg(),ne=a,ae=o,Mt.transition=i}else t.current=n;if(Ki&&(Ki=!1,Fn=t,zo=r),i=t.pendingLanes,i===0&&(qn=null),$g(n.stateNode),dt(t,Ne()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Wo)throw Wo=!1,t=ou,ou=null,t;return zo&1&&t.tag!==0&&Ys(),i=t.pendingLanes,i&1?t===au?$r++:($r=0,au=t):$r=0,ts(),null}function Ys(){if(Fn!==null){var t=wf(zo),e=Mt.transition,n=ae;try{if(Mt.transition=null,ae=16>t?16:t,Fn===null)var s=!1;else{if(t=Fn,Fn=null,zo=0,ne&6)throw Error(M(331));var r=ne;for(ne|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Br(8,c,i)}var h=c.child;if(h!==null)h.return=c,W=h;else for(;W!==null;){c=W;var d=c.sibling,g=c.return;if(Dp(c),c===u){W=null;break}if(d!==null){d.return=g,W=d;break}W=g}}}var p=i.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Br(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,W=f;break e}W=i.return}}var m=t.current;for(W=m;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=m;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ma(9,a)}}catch(v){xe(a,a.return,v)}if(a===o){W=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}if(ne=r,ts(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(aa,t)}catch{}s=!0}return s}finally{ae=n,Mt.transition=e}}return!1}function id(t,e,n){e=rr(n,e),e=wp(t,e,1),t=zn(t,e,1),e=nt(),t!==null&&(wi(t,1,e),dt(t,e))}function xe(t,e,n){if(t.tag===3)id(t,t,n);else for(;e!==null;){if(e.tag===3){id(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){t=rr(n,t),t=Sp(e,t,1),e=zn(e,t,1),t=nt(),e!==null&&(wi(e,1,t),dt(e,t));break}}e=e.return}}function yy(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Be&n)===n&&(Fe===4||Fe===3&&(Be&130023424)===Be&&500>Ne()-ic?cs(t,0):rc|=n),dt(t,e)}function zp(t,e){e===0&&(t.mode&1?(e=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):e=1);var n=nt();t=yn(t,e),t!==null&&(wi(t,e,n),dt(t,n))}function vy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zp(t,n)}function wy(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(e),zp(t,n)}var qp;qp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,ay(t,e,n);ut=!!(t.flags&131072)}else ut=!1,ye&&e.flags&1048576&&Gf(e,Mo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;po(t,e),t=e.pendingProps;var r=er(e,Ye.current);Xs(e,n),r=Ku(null,e,s,t,r,n);var i=Ju();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(s)?(i=!0,Io(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Hu(e),r.updater=pa,e.stateNode=r,r._reactInternals=e,Xl(e,s,t,n),e=Kl(null,e,s,!0,i,n)):(e.tag=0,ye&&i&&Wu(e),Je(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(po(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=ky(s),t=jt(s,t),r){case 0:e=Zl(null,e,s,t,n);break e;case 1:e=Xh(null,e,s,t,n);break e;case 11:e=Hh(null,e,s,t,n);break e;case 14:e=Qh(null,e,s,jt(s.type,t),n);break e}throw Error(M(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jt(s,r),Zl(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jt(s,r),Xh(t,e,s,r,n);case 3:e:{if(Cp(e),t===null)throw Error(M(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Kf(t,e),Fo(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=rr(Error(M(423)),e),e=Yh(t,e,s,n,r);break e}else if(s!==r){r=rr(Error(M(424)),e),e=Yh(t,e,s,n,r);break e}else for(wt=Wn(e.stateNode.containerInfo.firstChild),kt=e,ye=!0,zt=null,n=Yf(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),s===r){e=vn(t,e,n);break e}Je(t,e,s,n)}e=e.child}return e;case 5:return Jf(e),t===null&&Gl(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,zl(s,r)?o=null:i!==null&&zl(s,i)&&(e.flags|=32),xp(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&Gl(e),null;case 13:return Ep(t,e,n);case 4:return Qu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=nr(e,null,s,n):Je(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jt(s,r),Hh(t,e,s,r,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,de(Ro,s._currentValue),s._currentValue=o,i!==null)if(Gt(i.value,o)){if(i.children===r.children&&!ct.current){e=vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=pn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hl(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Xs(e,n),r=Ft(r),s=s(r),e.flags|=1,Je(t,e,s,n),e.child;case 14:return s=e.type,r=jt(s,e.pendingProps),r=jt(s.type,r),Qh(t,e,s,r,n);case 15:return kp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jt(s,r),po(t,e),e.tag=1,ht(s)?(t=!0,Io(e)):t=!1,Xs(e,n),vp(e,s,r),Xl(e,s,r,n),Kl(null,e,s,!0,t,n);case 19:return Np(t,e,n);case 22:return Tp(t,e,n)}throw Error(M(156,e.tag))};function Bp(t,e){return gf(t,e)}function Sy(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,s){return new Sy(t,e,n,s)}function uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ky(t){if(typeof t=="function")return uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Au)return 11;if(t===Ou)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")uc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return hs(n.children,r,i,e);case Nu:o=8,r|=8;break;case vl:return t=Ot(12,n,e,r|2),t.elementType=vl,t.lanes=i,t;case wl:return t=Ot(13,n,e,r),t.elementType=wl,t.lanes=i,t;case Sl:return t=Ot(19,n,e,r),t.elementType=Sl,t.lanes=i,t;case Kd:return _a(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yd:o=10;break e;case Zd:o=9;break e;case Au:o=11;break e;case Ou:o=14;break e;case On:o=16,s=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Ot(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function hs(t,e,n,s){return t=Ot(7,t,s,e),t.lanes=n,t}function _a(t,e,n,s){return t=Ot(22,t,s,e),t.elementType=Kd,t.lanes=n,t.stateNode={isHidden:!1},t}function pl(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function ml(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ty(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cc(t,e,n,s,r,i,o,a,l){return t=new Ty(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(i),t}function xy(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Up(t){if(!t)return Hn;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(ht(n))return Uf(t,n,e)}return e}function $p(t,e,n,s,r,i,o,a,l){return t=cc(n,s,!0,t,r,i,o,a,l),t.context=Up(null),n=t.current,s=nt(),r=Bn(n),i=pn(s,r),i.callback=e??null,zn(n,i,r),t.current.lanes=r,wi(t,r,s),dt(t,s),t}function ya(t,e,n,s){var r=e.current,i=nt(),o=Bn(r);return n=Up(n),e.context===null?e.context=n:e.pendingContext=n,e=pn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=zn(r,e,o),t!==null&&(Ut(t,r,o,i),co(t,r,o)),o}function Bo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function od(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hc(t,e){od(t,e),(t=t.alternate)&&od(t,e)}function Cy(){return null}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function dc(t){this._internalRoot=t}va.prototype.render=dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));ya(t,e,null,null)};va.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_s(function(){ya(null,t,null,null)}),e[_n]=null}};function va(t){this._internalRoot=t}va.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&Cf(t)}};function fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ad(){}function Ey(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Bo(o);i.call(u)}}var o=$p(e,s,t,0,null,!1,!1,"",ad);return t._reactRootContainer=o,t[_n]=o.current,ri(t.nodeType===8?t.parentNode:t),_s(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Bo(l);a.call(u)}}var l=cc(t,0,!1,null,null,!1,!1,"",ad);return t._reactRootContainer=l,t[_n]=l.current,ri(t.nodeType===8?t.parentNode:t),_s(function(){ya(e,l,n,s)}),l}function Sa(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Bo(o);a.call(l)}}ya(e,o,t,r)}else o=Ey(n,e,t,r,s);return Bo(o)}Sf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pr(e.pendingLanes);n!==0&&(Mu(e,n|1),dt(e,Ne()),!(ne&6)&&(ir=Ne()+500,ts()))}break;case 13:_s(function(){var s=yn(t,1);if(s!==null){var r=nt();Ut(s,t,1,r)}}),hc(t,1)}};Ru=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var n=nt();Ut(e,t,134217728,n)}hc(t,134217728)}};kf=function(t){if(t.tag===13){var e=Bn(t),n=yn(t,e);if(n!==null){var s=nt();Ut(n,t,e,s)}hc(t,e)}};Tf=function(){return ae};xf=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Dl=function(t,e,n){switch(e){case"input":if(xl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=ha(s);if(!r)throw Error(M(90));ef(s),xl(s,r)}}}break;case"textarea":nf(t,n);break;case"select":e=n.value,e!=null&&$s(t,!!n.multiple,e,!1)}};cf=oc;hf=_s;var Ny={usingClientEntryPoint:!1,Events:[ki,Fs,ha,lf,uf,oc]},Ir={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ay={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||Cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{aa=Ji.inject(Ay),en=Ji}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fc(e))throw Error(M(200));return xy(t,e,null,n)};xt.createRoot=function(t,e){if(!fc(t))throw Error(M(299));var n=!1,s="",r=Gp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=cc(t,1,!1,null,null,n,!1,s,r),t[_n]=e.current,ri(t.nodeType===8?t.parentNode:t),new dc(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=pf(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return _s(t)};xt.hydrate=function(t,e,n){if(!wa(e))throw Error(M(200));return Sa(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!fc(t))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Gp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$p(e,null,t,1,n??null,r,!1,i,o),t[_n]=e.current,ri(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new va(e)};xt.render=function(t,e,n){if(!wa(e))throw Error(M(200));return Sa(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!wa(t))throw Error(M(40));return t._reactRootContainer?(_s(function(){Sa(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};xt.unstable_batchedUpdates=oc;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!wa(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Sa(t,e,n,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(t){console.error(t)}}Hp(),Gd.exports=xt;var Oy=Gd.exports,Qp,ld=Oy;Qp=ld.createRoot,ld.hydrateRoot;const Xp="15.1.22",ud=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),cd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),cu=(t,e)=>({startTime:e,type:"setValue",value:t}),Yp=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Zp=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),qs=t=>t.type==="exponentialRampToValue",Uo=t=>t.type==="linearRampToValue",Dn=t=>qs(t)||Uo(t),pc=t=>t.type==="setValue",cn=t=>t.type==="setValueCurve",$o=(t,e,n,s)=>{const r=t[e];return r===void 0?s:Dn(r)||pc(r)?r.value:cn(r)?r.values[r.values.length-1]:Zp(n,$o(t,e-1,r.startTime,s),r)},hd=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:Dn(n)?[n.endTime,n.value]:pc(n)?[n.startTime,n.value]:cn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,$o(t,e-1,n.startTime,r)],hu=t=>t.type==="cancelAndHold",du=t=>t.type==="cancelScheduledValues",An=t=>hu(t)||du(t)?t.cancelTime:qs(t)||Uo(t)?t.endTime:t.startTime,dd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,fd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Iy=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Dy=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Iy(s,r)},eo=t=>t.type==="setTarget";class My{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=An(e);if(hu(e)||du(e)){const s=this._automationEvents.findIndex(i=>du(e)&&cn(i)?i.startTime+i.duration>=n:An(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),hu(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Dn(r)){if(i!==void 0&&eo(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:cn(i)?i.startTime+i.duration:An(i),a=i===void 0?this._defaultValue:cn(i)?i.values[i.values.length-1]:i.value,l=qs(r)?dd(n,o,a,r):fd(n,o,a,r),u=qs(r)?ud(l,n,this._currenTime):cd(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&eo(i)&&this._automationEvents.push(cu(this.getValue(n),n)),i!==void 0&&cn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=Yp(c,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>An(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&cn(r)&&An(r)+r.duration>n)return!1;const i=qs(e)?ud(e.value,e.endTime,this._currenTime):Uo(e)?cd(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(cn(e)&&n+e.duration>An(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>An(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];eo(r)&&s.unshift(cu($o(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>An(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&eo(i)&&(s===void 0||!Dn(s)||s.insertTime>e))return Zp(e,$o(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&pc(i)&&(s===void 0||!Dn(s)))return i.value;if(i!==void 0&&cn(i)&&(s===void 0||!Dn(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Dy(e,i):i.values[i.values.length-1];if(i!==void 0&&Dn(i)&&(s===void 0||!Dn(s)))return i.value;if(s!==void 0&&qs(s)){const[o,a]=hd(this._automationEvents,r,i,s,this._defaultValue);return dd(e,o,a,s)}if(s!==void 0&&Uo(s)){const[o,a]=hd(this._automationEvents,r,i,s,this._defaultValue);return fd(e,o,a,s)}return this._defaultValue}}const Ry=t=>({cancelTime:t,type:"cancelAndHold"}),Py=t=>({cancelTime:t,type:"cancelScheduledValues"}),Fy=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),by=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Vy=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Ly=()=>new DOMException("","AbortError"),jy=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},Wy=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},zy=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},or=new WeakSet,Kp=new WeakMap,mc=new WeakMap,Jp=new WeakMap,gc=new WeakMap,ka=new WeakMap,em=new WeakMap,fu=new WeakMap,pu=new WeakMap,mu=new WeakMap,tm={construct(){return tm}},qy=t=>{try{const e=new Proxy(t,tm);new e}catch{return!1}return!0},pd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,md=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(pd);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(pd)}return[n.join(";"),s]},gd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},_d=t=>{if(!qy(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},By=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let g=0;return(p,_,w={credentials:"omit"})=>{const f=c.get(p);if(f!==void 0&&f.has(_))return Promise.resolve();const m=u.get(p);if(m!==void 0){const v=m.get(_);if(v!==void 0)return v}const y=i(p),x=y.audioWorklet===void 0?r(_).then(([v,k])=>{const[T,S]=md(v,k),E=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${S}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const v=d._AWGS.pop();if(v===void 0)throw new SyntaxError;s(y.currentTime,y.sampleRate,()=>v(class{},void 0,(k,T)=>{if(k.trim()==="")throw e();const S=pu.get(y);if(S!==void 0){if(S.has(k))throw e();_d(T),gd(T.parameterDescriptors),S.set(k,T)}else _d(T),gd(T.parameterDescriptors),pu.set(y,new Map([[k,T]]))},y.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[v,k],T])=>{const S=g+1;g=S;const[E,C]=md(v,k),V=`${E};((AudioWorkletProcessor,registerProcessor)=>{${C}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${S}',class extends AudioWorkletProcessor{process(){return !1}})`,U=new Blob([V],{type:"application/javascript; charset=utf-8"}),j=URL.createObjectURL(U);return y.audioWorklet.addModule(j,w).then(()=>{if(a(y))return y;const q=o(y);return q.audioWorklet.addModule(j,w).then(()=>q)}).then(q=>{if(l===null)throw new SyntaxError;try{new l(q,`__sac${S}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(j))});return m===void 0?u.set(p,new Map([[_,x]])):m.set(_,x),x.then(()=>{const v=c.get(p);v===void 0?c.set(p,new Set([_])):v.add(_)}).finally(()=>{const v=u.get(p);v!==void 0&&v.delete(_)}),x}},Ht=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ta=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},nm=(t,e,n,s)=>{const r=Ht(t,e),i=Ta(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},xi=t=>Ht(em,t),ar=t=>{if(or.has(t))throw new Error("The AudioNode is already stored.");or.add(t),xi(t).forEach(e=>e(!0))},sm=t=>"port"in t,Ci=t=>{if(!or.has(t))throw new Error("The AudioNode is not stored.");or.delete(t),xi(t).forEach(e=>e(!1))},gu=(t,e)=>{!sm(t)&&e.every(n=>n.size===0)&&Ci(t)},Uy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const g=new WeakMap;return(p,_,w,f,m)=>{const{activeInputs:y,passiveInputs:x}=i(_),{outputs:v}=i(p),k=a(p),T=S=>{const E=l(_),C=l(p);if(S){const N=nm(x,p,w,f);t(y,p,N,!1),!m&&!h(p)&&n(C,E,w,f),d(_)&&ar(_)}else{const N=s(y,p,w,f);e(x,f,N,!1),!m&&!h(p)&&r(C,E,w,f);const A=o(_);if(A===0)c(_)&&gu(_,y);else{const F=g.get(_);F!==void 0&&clearTimeout(F),g.set(_,setTimeout(()=>{c(_)&&gu(_,y)},A*1e3))}}};return u(v,[_,w,f],S=>S[0]===_&&S[1]===w&&S[2]===f,!0)?(k.add(T),c(p)?t(y,p,[w,f,T],!0):e(x,f,[p,w,T],!0),!0):!1}},$y=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},Gy=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},Hy=t=>(e,n)=>{t(e).add(n)},Qy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Xy=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...Qy,...l},h=s(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ze=(t,e)=>t.context===e,Yy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Go=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},rn=()=>new DOMException("","IndexSizeError"),_c=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?rn():s}})(t.getChannelData)},Zy={numberOfChannels:1},Ky=(t,e,n,s,r,i,o,a)=>{let l=null;return class rm{constructor(c){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:g}={...Zy,...c};l===null&&(l=new r(1,1,44100));const p=s!==null&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:g}):l.createBuffer(d,h,g);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(o(p),_c(p)):e(Go,()=>Go(p))||a(p),t.add(p),p}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===rm.prototype||t.has(c)}}},lt=-34028234663852886e22,et=-lt,mn=t=>or.has(t),Jy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ev=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Jy,...c},g=r(h,d),p=o(h),_=p?e():null;super(u,!1,g,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=n(this,p,g.playbackRate,et,lt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){ar(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),mn(this)&&Ci(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},tv=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const g={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,g),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await s(c,u.playbackRate,h.playbackRate),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},nv=t=>"playbackRate"in t,sv=t=>"frequency"in t&&"gain"in t,rv=t=>"offset"in t,iv=t=>!("frequency"in t)&&"gain"in t,ov=t=>"detune"in t&&"frequency"in t&&!("gain"in t),av=t=>"pan"in t,tt=t=>Ht(Kp,t),Ei=t=>Ht(Jp,t),_u=(t,e)=>{const{activeInputs:n}=tt(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||_u(i,[...e,t])}));const s=nv(t)?[t.playbackRate]:sm(t)?Array.from(t.parameters.values()):sv(t)?[t.Q,t.detune,t.frequency,t.gain]:rv(t)?[t.offset]:iv(t)?[t.gain]:ov(t)?[t.detune,t.frequency]:av(t)?[t.pan]:[];for(const r of s){const i=Ei(r);i!==void 0&&i.activeInputs.forEach(([o])=>_u(o,e))}mn(t)&&Ci(t)},im=t=>{_u(t.destination,[])},lv=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),uv=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(h===null)throw s();if(!lv(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:g}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/g:d==="interactive"||d===void 0?256/g:d==="playback"?1024/g:Math.max(2,Math.min(128,Math.round(d*g/128)))*128/g,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),im(this)}))}createMediaElementSource(c){return new r(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},cv=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),g=r(h,c,d),p=d?e(a):null;super(u,!1,g,p),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},hv=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},dv=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const v=new Float32Array(1),k=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=o(u);let S=!1,E=[0,0,-1,0,1,0],C=[0,0,0];const N=()=>{if(S)return;S=!0;const U=s(u,256,9,0);U.onaudioprocess=({inputBuffer:j})=>{const q=[i(j,v,0),i(j,v,1),i(j,v,2),i(j,v,3),i(j,v,4),i(j,v,5)];q.some((D,R)=>D!==E[R])&&(c.setOrientation(...q),E=q);const I=[i(j,v,6),i(j,v,7),i(j,v,8)];I.some((D,R)=>D!==C[R])&&(c.setPosition(...I),C=I)},k.connect(U)},A=U=>j=>{j!==E[U]&&(E[U]=j,c.setOrientation(...E))},F=U=>j=>{j!==C[U]&&(C[U]=j,c.setPosition(...C))},V=(U,j,q)=>{const I=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j});I.connect(k,0,U),I.start(),Object.defineProperty(I.offset,"defaultValue",{get(){return j}});const D=t({context:l},T,I.offset,et,lt);return a(D,"value",R=>()=>R.call(D),R=>O=>{try{R.call(D,O)}catch(P){if(P.code!==9)throw P}N(),T&&q(O)}),D.cancelAndHoldAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.cancelAndHoldAtTime),D.cancelScheduledValues=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.cancelScheduledValues),D.exponentialRampToValueAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.exponentialRampToValueAtTime),D.linearRampToValueAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.linearRampToValueAtTime),D.setTargetAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.setTargetAtTime),D.setValueAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.setValueAtTime),D.setValueCurveAtTime=(R=>T?()=>{throw r()}:(...O)=>{const P=R.apply(D,O);return N(),P})(D.setValueCurveAtTime),D};return{forwardX:V(0,0,A(0)),forwardY:V(1,0,A(1)),forwardZ:V(2,-1,A(2)),positionX:V(6,0,F(0)),positionY:V(7,0,F(1)),positionZ:V(8,0,F(2)),upX:V(3,0,A(3)),upY:V(4,1,A(4)),upZ:V(5,0,A(5))}},{forwardX:d,forwardY:g,forwardZ:p,positionX:_,positionY:w,positionZ:f,upX:m,upY:y,upZ:x}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return g},get forwardZ(){return p},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return m},get upY(){return y},get upZ(){return x}}},Ho=t=>"context"in t,Ni=t=>Ho(t[0]),Ts=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},yd=(t,e,[n,s],r)=>{Ts(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},vd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Ts(i,[n,s],o=>o[0]===n,r)},gr=t=>"inputs"in t,Qo=(t,e,n,s)=>{if(gr(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},om=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},fv=(t,e,n)=>Ta(t,s=>s[0]===e&&s[1]===n),am=(t,e)=>{if(!xi(t).delete(e))throw new Error("Missing the expected event listener.")},lm=(t,e,n)=>{const s=Ht(t,e),r=Ta(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},Xo=(t,e,n,s)=>{gr(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},ge=t=>Ht(mc,t),fi=t=>Ht(gc,t),ys=t=>fu.has(t),yo=t=>!or.has(t),wd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),gl=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},Yo=t=>"context"in t,pv=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=Yo(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{Yo(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},mv=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ei(e),{outputs:o}=tt(t),a=xi(t),l=u=>{const c=ge(t),h=fi(e);if(u){const d=lm(i,t,n);yd(r,t,d,!1),!s&&!ys(t)&&c.connect(h,n)}else{const d=fv(r,t,n);vd(i,d,!1),!s&&!ys(t)&&c.disconnect(h,n)}};return Ts(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),mn(t)?yd(r,t,[n,l],!0):vd(i,[t,n,l],!0),!0):!1},gv=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=tt(e),o=om(r[s],t,n);return o===null?[nm(i,t,n,s)[2],!1]:[o[2],!0]},_v=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Ei(e),i=om(s,t,n);return i===null?[lm(r,t,n)[1],!1]:[i[2],!0]},yc=(t,e,n,s,r)=>{const[i,o]=gv(t,n,s,r);if(i!==null&&(am(t,i),o&&!e&&!ys(t)&&Xo(ge(t),ge(n),s,r)),mn(n)){const{activeInputs:a}=tt(n);gu(n,a)}},vc=(t,e,n,s)=>{const[r,i]=_v(t,n,s);r!==null&&(am(t,r),i&&!e&&!ys(t)&&ge(t).disconnect(fi(n),s))},yv=(t,e)=>{const n=tt(t),s=[];for(const r of n.outputs)Ni(r)?yc(t,e,...r):vc(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},vv=(t,e,n)=>{const s=tt(t),r=[];for(const i of s.outputs)i[1]===n&&(Ni(i)?yc(t,e,...i):vc(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},wv=(t,e,n,s,r)=>{const i=tt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Ni(o)?yc(t,e,...o):vc(t,e,...o),i.outputs.delete(o),o[0]))},Sv=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,_)=>class extends u{constructor(f,m,y,x){super(y),this._context=f,this._nativeAudioNode=y;const v=c(f);h(v)&&n(wd,()=>wd(v,_))!==!0&&pv(y),mc.set(this,y),em.set(this,new Set),f.state!=="closed"&&m&&ar(this),t(this,x,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,m=0,y=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw r();const x=c(this._context),v=p(x);if(d(f)||g(f))throw i();if(Ho(f)){const S=ge(f);try{const C=Qo(this._nativeAudioNode,S,m,y),N=yo(this);(v||N)&&this._nativeAudioNode.disconnect(...C),this.context.state!=="closed"&&!N&&yo(f)&&ar(f)}catch(C){throw C.code===12?i():C}if(e(this,f,m,y,v)){const C=l([this],f);gl(C,s(v))}return f}const k=fi(f);if(k.name==="playbackRate"&&k.maxValue===1024)throw o();try{this._nativeAudioNode.connect(k,m),(v||yo(this))&&this._nativeAudioNode.disconnect(k,m)}catch(S){throw S.code===12?i():S}if(mv(this,f,m,v)){const S=l([this],f);gl(S,s(v))}}disconnect(f,m,y){let x;const v=c(this._context),k=p(v);if(f===void 0)x=yv(this,k);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();x=vv(this,k,f)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||Ho(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw r();if(x=wv(this,k,f,m,y),x.length===0)throw i()}for(const T of x){const S=l([this],T);gl(S,a)}}},kv=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,p,_,w=null,f=null)=>{const m=_.value,y=new My(m),x=p?s(y):null,v={get defaultValue(){return m},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(k){_.value=k,v.setValueAtTime(k,g.context.currentTime)},cancelAndHoldAtTime(k){if(typeof _.cancelAndHoldAtTime=="function")x===null&&y.flush(g.context.currentTime),y.add(r(k)),_.cancelAndHoldAtTime(k);else{const T=Array.from(y).pop();x===null&&y.flush(g.context.currentTime),y.add(r(k));const S=Array.from(y).pop();_.cancelScheduledValues(k),T!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?_.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?_.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&_.setValueCurveAtTime(S.values,S.startTime,S.duration))}return v},cancelScheduledValues(k){return x===null&&y.flush(g.context.currentTime),y.add(i(k)),_.cancelScheduledValues(k),v},exponentialRampToValueAtTime(k,T){if(k===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;const S=g.context.currentTime;return x===null&&y.flush(S),Array.from(y).length===0&&(y.add(u(m,S)),_.setValueAtTime(m,S)),y.add(o(k,T)),_.exponentialRampToValueAtTime(k,T),v},linearRampToValueAtTime(k,T){const S=g.context.currentTime;return x===null&&y.flush(S),Array.from(y).length===0&&(y.add(u(m,S)),_.setValueAtTime(m,S)),y.add(a(k,T)),_.linearRampToValueAtTime(k,T),v},setTargetAtTime(k,T,S){return x===null&&y.flush(g.context.currentTime),y.add(l(k,T,S)),_.setTargetAtTime(k,T,S),v},setValueAtTime(k,T){return x===null&&y.flush(g.context.currentTime),y.add(u(k,T)),_.setValueAtTime(k,T),v},setValueCurveAtTime(k,T,S){const E=k instanceof Float32Array?k:new Float32Array(k);if(h!==null&&h.name==="webkitAudioContext"){const C=T+S,N=g.context.sampleRate,A=Math.ceil(T*N),F=Math.floor(C*N),V=F-A,U=new Float32Array(V);for(let q=0;q<V;q+=1){const I=(E.length-1)/S*((A+q)/N-T),D=Math.floor(I),R=Math.ceil(I);U[q]=D===R?E[D]:(1-(I-D))*E[D]+(1-(R-I))*E[R]}x===null&&y.flush(g.context.currentTime),y.add(c(U,T,S)),_.setValueCurveAtTime(U,T,S);const j=F/N;j<C&&d(v,U[U.length-1],j),d(v,E[E.length-1],C)}else x===null&&y.flush(g.context.currentTime),y.add(c(E,T,S)),_.setValueCurveAtTime(E,T,S);return v}};return n.set(v,_),e.set(v,g),t(v,x),v},Tv=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class um{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const xv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Cv=(t,e,n,s,r,i,o,a,l,u,c,h,d,g)=>class extends e{constructor(_,w,f){var m;const y=a(_),x=l(y),v=c({...xv,...f});d(v);const k=pu.get(y),T=k==null?void 0:k.get(w),S=x||y.state!=="closed"?y:(m=o(y))!==null&&m!==void 0?m:y,E=r(S,x?null:_.baseLatency,u,w,T,v),C=x?s(w,v,T):null;super(_,!0,E,C);const N=[];E.parameters.forEach((F,V)=>{const U=n(this,x,F);N.push([V,U])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new um(N),x&&t(y,this);const{activeInputs:A}=i(this);h(E,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?g(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Zo(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const cm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},Ko=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Ev=(t,e)=>{const n=Ht(mu,t),s=ge(e);return Ht(n,s)},Nv=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=tt(t),d=await Ev(n,t),g=Ko(s.numberOfInputs,s.channelCount),p=Ko(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<s.channelCount;m+=1)Zo(e,g[f],m,m,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},m)=>{Zo(e,_,f,l+m,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<r[f];m+=1)p[f][m].byteLength===0&&(p[f][m]=new Float32Array(128));try{const f=g.map((y,x)=>h.activeInputs[x].size===0?[]:y),m=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,p,_));if(c!==null)for(let y=0,x=0;y<s.numberOfOutputs;y+=1){for(let v=0;v<r[y];v+=1)cm(c,p[y],v,x+v,w);x+=r[y]}if(!m)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Av=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,_)=>(w,f,m)=>{const y=new WeakMap;let x=null;const v=async(k,T)=>{let S=c(k),E=null;const C=Ze(S,T),N=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const A=N.reduce((j,q)=>j+q,0),F=r(T,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),V=[];for(let j=0;j<k.numberOfOutputs;j+=1)V.push(s(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[j]}));const U=o(T,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});U.connect=e.bind(null,V),U.disconnect=l.bind(null,V),E=[F,V,U]}else C||(S=new h(T,w));if(y.set(T,E===null?S:E[2]),E!==null){if(x===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const q=k.channelCount*k.numberOfInputs,I=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,D=q+I;x=Nv(k,D===0?null:await(async()=>{const O=new d(D,Math.ceil(k.context.length/128)*128,T.sampleRate),P=[],H=[];for(let Q=0;Q<f.numberOfInputs;Q+=1)P.push(o(O,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),H.push(r(O,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const $=await Promise.all(Array.from(k.parameters.values()).map(async Q=>{const ee=i(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q.value});return await g(O,Q,ee.offset),ee})),L=s(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,q+I)});for(let Q=0;Q<f.numberOfInputs;Q+=1){P[Q].connect(H[Q]);for(let ee=0;ee<f.channelCount;ee+=1)H[Q].connect(L,ee,Q*f.channelCount+ee)}for(const[Q,ee]of $.entries())ee.connect(L,0,q+Q),ee.start(0);return L.connect(O.destination),await Promise.all(P.map(Q=>p(k,O,Q))),_(O)})(),T,f,N,m,u)}const A=await x,F=n(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,U,j]=E;A!==null&&(F.buffer=A,F.start(0)),F.connect(V);for(let q=0,I=0;q<k.numberOfOutputs;q+=1){const D=U[q];for(let R=0;R<N[q];R+=1)V.connect(D,I+R,R);I+=N[q]}return j}if(C)for(const[A,F]of k.parameters.entries())await t(T,F,S.parameters.get(A));else for(const[A,F]of k.parameters.entries())await g(T,F,S.parameters.get(A));return await p(k,T,S),S};return{render(k,T){a(T,k);const S=y.get(T);return S!==void 0?Promise.resolve(S):v(k,T)}}},Ov=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,_,w,f,m,y)=>class extends p{constructor(v,k){super(v,k),this._nativeContext=v,this._audioWorklet=t===void 0?void 0:{addModule:(T,S)=>t(this,T,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(v,k,T){return new n({length:k,numberOfChannels:v,sampleRate:T})}createBufferSource(){return new s(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(v=1){return new c(this,{maxDelayTime:v})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(v,k){return new g(this,{feedback:k,feedforward:v})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(v,k,T={disableNormalization:!1}){return new f(this,{...T,imag:k,real:v})}createStereoPanner(){return new m(this)}createWaveShaper(){return new y(this)}decodeAudioData(v,k,T){return u(this._nativeContext,v).then(S=>(typeof k=="function"&&k(S),S),S=>{throw typeof T=="function"&&T(S),S})}},Iv={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Dv=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Iv,...c},g=r(h,d),p=o(h),_=p?n():null;super(u,!1,g,_),this._Q=e(this,p,g.Q,et,lt),this._detune=e(this,p,g.detune,1200*Math.log2(et),-1200*Math.log2(et)),this._frequency=e(this,p,g.frequency,u.sampleRate/2,0),this._gain=e(this,p,g.gain,40*Math.log10(et),lt),this._nativeBiquadFilterNode=g,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?s():d}if(u.length!==c.length||c.length!==h.length)throw s()}},Mv=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await s(l,a.Q,u.Q),await s(l,a.detune,u.detune),await s(l,a.frequency,u.frequency),await s(l,a.gain,u.gain)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Rv=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Pv={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Fv=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),u={...Pv,...a},c=n(l,u),h=r(l)?e():null;super(o,!1,c,h)}},bv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Vv={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Lv=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=i({...Vv,...l}),h=n(u,c),d=r(u)?e():null;super(a,!1,h,d)}},jv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Wv=t=>(e,n,s)=>t(n,e,s),zv=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return Yo(n)?i.connect(n,0,r):i.connect(n,0)},qv=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},Bv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Uv=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Bv,...u},d=s(c,h),g=i(c),p=g?n():null;super(l,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,g,d.offset,et,lt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){ar(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),mn(this)&&Ci(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},$v=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,g),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await s(c,u.offset,h.offset),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},Gv=t=>e=>(t[0]=e,t[0]),Hv={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Qv=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c={...Hv,...l},h=n(u,c),g=r(u)?e():null;super(a,!1,h,g),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Xv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return s.set(o,a),gr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Yv=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},Zv=()=>new DOMException("","DataCloneError"),Sd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},Kv=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=o(h)?h:i(h);if(r.has(d)){const p=n();return Promise.reject(p)}try{r.add(d)}catch{}return e(l,()=>l(g))?g.decodeAudioData(d).then(p=>(Sd(d).catch(()=>{}),e(a,()=>a(p))||c(p),t.add(p),p)):new Promise((p,_)=>{const w=async()=>{try{await Sd(d)}catch{}},f=m=>{_(m),w()};try{g.decodeAudioData(d,m=>{typeof m.copyFromChannel!="function"&&(u(m),_c(m)),t.add(m),w().then(()=>p(m))},m=>{f(m===null?s():m)})}catch(m){f(m)}})},Jv=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const g=s(l),{outputs:p}=n(l);for(const _ of p)if(Ni(_)){const w=s(_[0]);t(g,w,_[1],_[2])}else{const w=r(_[0]);g.connect(w,_[1])}}}else e.set(l,c-u)},e0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},t0=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...e0,...u},d=s(c,h),g=i(c),p=g?n(h.maxDelayTime):null;super(l,!1,d,p),this._delayTime=e(this,g,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},n0=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Ze(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await s(u,l.delayTime,c.delayTime),await r(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},s0=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),r0=t=>(e,n)=>{t(e).delete(n)},i0=t=>"delayTime"in t,o0=(t,e,n)=>function s(r,i){const o=Ho(i)?i:n(t,i);if(i0(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,u)=>l.concat(u),[])},to=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},a0=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?to(t,e,n).disconnect():Yo(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?to(t,e,s).disconnect(n,0):to(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):to(t,e,s).disconnect(n,0),l0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},u0=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...l0,...c},g=s(h,d),p=o(h),_=p?n():null;super(u,!1,g,_),this._attack=e(this,p,g.attack),this._knee=e(this,p,g.knee),this._nativeDynamicsCompressorNode=g,this._ratio=e(this,p,g.ratio),this._release=e(this,p,g.release),this._threshold=e(this,p,g.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},c0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await s(l,a.attack,u.attack),await s(l,a.knee,u.knee),await s(l,a.ratio,u.ratio),await s(l,a.release,u.release),await s(l,a.threshold,u.threshold)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},h0=()=>new DOMException("","EncodingError"),d0=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,g,p)=>{if(h===a||h===t.location.href&&d===1&&g===1)return u(),s(p),!1;if(l!==null)return l(c,h,d,g,p)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}),f0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},p0=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},m0=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},g0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},_0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...g0,...l},h=s(u,c),d=i(u),g=d?n():null;super(a,!1,h,g),this._gain=e(this,d,h.gain,et,lt)}get gain(){return this._gain}},y0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await s(l,a.gain,u.gain),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},v0=(t,e)=>n=>e(t,n),w0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},S0=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},k0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},T0=t=>e=>t.get(e),We=()=>new DOMException("","InvalidStateError"),x0=t=>e=>{const n=t.get(e);if(n===void 0)throw We();return n},C0=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},E0=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},xa=()=>new DOMException("","InvalidAccessError"),N0=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw xa();return e.call(t,n,s,r)})(t.getFrequencyResponse)},A0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},O0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=r(u),h={...A0,...l},d=e(u,c?null:a.baseLatency,h),g=c?n(h.feedback,h.feedforward):null;super(a,!1,d,g),N0(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},hm=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let g=0;g<h;g+=1){let p=n[0]*u[g];for(let _=1;_<r;_+=1){const w=d-_&l-1;p+=n[_]*i[w],p-=t[_]*o[w]}for(let _=r;_<s;_+=1)p+=n[_]*i[d-_&l-1];for(let _=r;_<e;_+=1)p-=t[_]*o[d-_&l-1];i[d]=u[g],o[d]=p,d=d+1&l-1,c[g]=p}return d},I0=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),g=t.numberOfChannels;for(let p=0;p<g;p+=1){const _=t.getChannelData(p),w=d.getChannelData(p);c.fill(0),h.fill(0),hm(r,o,i,a,l,c,h,0,u,_,w)}return d},D0=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,g=e(c);const p=Ze(g,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(g=h.createIIRFilter(o,i)),a.set(h,d===null?g:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await s(c,w,w.destination);const f=await r(w);return I0(f,h,i,o)})()}const _=await l;return d.buffer=_,d.start(0),d}return await s(c,h,g),g};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},M0=(t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=s(a),{outputs:h}=n(a);for(const d of h)if(Ni(d)){const g=s(d[0]);e(c,g,d[1],d[2])}else{const g=r(d[0]);c.disconnect(g,d[1])}}t.set(a,l)}else t.set(a,u+l)},R0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},P0=(t,e)=>n=>t.has(n)||e(n),F0=(t,e)=>n=>t.has(n)||e(n),b0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},V0=t=>e=>t!==null&&e instanceof t,L0=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,j0=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,W0=(t,e)=>n=>t(n)||e(n),z0=t=>e=>t!==null&&e instanceof t,q0=t=>t!==null&&t.isSecureContext,B0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},U0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},$0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...U0,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},G0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},H0=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},Q0=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,ka.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},pi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},X0=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&s()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&r()})(n.disconnect),n},_e=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},be=(t,e)=>{_e(t,e,"channelCount"),_e(t,e,"channelCountMode"),_e(t,e,"channelInterpretation")},kd=t=>typeof t.getFloatTimeDomainData=="function",Y0=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},Z0=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(be(r,s),!(s.maxDecibels>s.minDecibels))throw e();return _e(r,s,"fftSize"),_e(r,s,"maxDecibels"),_e(r,s,"minDecibels"),_e(r,s,"smoothingTimeConstant"),t(kd,()=>kd(r))||Y0(r),r},K0=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Ce=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},J0=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw We();e.call(t,s,r,i),n=!0}})(t.start)},wc=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Sc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},e1=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=h.createBufferSource();return be(g,d),Ce(g,d,"playbackRate"),_e(g,d,"buffer"),_e(g,d,"loop"),_e(g,d,"loopEnd"),_e(g,d,"loopStart"),e(n,()=>n(h))||J0(g),e(s,()=>s(h))||l(g),e(r,()=>r(h))||u(g,h),e(i,()=>i(h))||wc(g),e(o,()=>o(h))||c(g,h),e(a,()=>a(h))||Sc(g),t(h,g),g},t1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,n1=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},s1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,r1=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},i1=(t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let g=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>g,set:p=>{typeof g=="function"&&h.removeEventListener("processorerror",g),g=typeof p=="function"?p:null,typeof g=="function"&&h.addEventListener("processorerror",g)}}}),h.addEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=d.get(_[1]);f!==void 0?_[1]=f:(_[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),w(m)):w(new ErrorEvent(_[0],{...m}))},d.set(w,_[1]))}}return p.call(h,"error",_[1],_[2]),p.call(h,..._)})(h.addEventListener),h.removeEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const w=d.get(_[1]);w!==void 0&&(d.delete(_[1]),_[1]=w)}return p.call(h,"error",_[1],_[2]),p.call(h,_[0],_[1],_[2])})(h.removeEventListener),c.numberOfOutputs!==0){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),r(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return r1(c),e(i,o,u,c)},dm=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),o1=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),a1=async(t,e)=>{const n=await o1(e);return new t(n)},l1=(t,e,n,s)=>{let r=mu.get(t);r===void 0&&(r=new WeakMap,mu.set(t,r));const i=a1(n,s);return r.set(e,i),i},u1=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,p,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(b=>b<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const m=w.channelCount*w.numberOfInputs,y=f.reduce((b,X)=>b+X,0),x=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(m+x>6||y>6)throw l();const v=new MessageChannel,k=[],T=[];for(let b=0;b<w.numberOfInputs;b+=1)k.push(o(g,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),T.push(r(g,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const S=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:b,maxValue:X,minValue:Re,name:ve}of _.parameterDescriptors){const re=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[ve]!==void 0?w.parameterData[ve]:b===void 0?0:b});Object.defineProperties(re.offset,{defaultValue:{get:()=>b===void 0?0:b},maxValue:{get:()=>X===void 0?et:X},minValue:{get:()=>Re===void 0?lt:Re}}),S.push(re)}const E=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+x)}),C=dm(p,g.sampleRate),N=a(g,C,m+x,Math.max(1,y)),A=r(g,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),F=[];for(let b=0;b<w.numberOfOutputs;b+=1)F.push(s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[b]}));for(let b=0;b<w.numberOfInputs;b+=1){k[b].connect(T[b]);for(let X=0;X<w.channelCount;X+=1)T[b].connect(E,X,b*w.channelCount+X)}const V=new um(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:b},X)=>{const Re=S[X];return Re.connect(E,0,m+X),Re.start(0),[b,Re.offset]}));E.connect(N);let U=w.channelInterpretation,j=null;const q=w.numberOfOutputs===0?[N]:F,I={get bufferSize(){return C},get channelCount(){return w.channelCount},set channelCount(b){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(b){throw n()},get channelInterpretation(){return U},set channelInterpretation(b){for(const X of k)X.channelInterpretation=b;U=b},get context(){return N.context},get inputs(){return k},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(b){typeof j=="function"&&I.removeEventListener("processorerror",j),j=typeof b=="function"?b:null,typeof j=="function"&&I.addEventListener("processorerror",j)},get parameters(){return V},get port(){return v.port2},addEventListener(...b){return N.addEventListener(b[0],b[1],b[2])},connect:t.bind(null,q),disconnect:u.bind(null,q),dispatchEvent(...b){return N.dispatchEvent(b[0])},removeEventListener(...b){return N.removeEventListener(b[0],b[1],b[2])}},D=new Map;v.port1.addEventListener=(b=>(...X)=>{if(X[0]==="message"){const Re=typeof X[1]=="function"?X[1]:typeof X[1]=="object"&&X[1]!==null&&typeof X[1].handleEvent=="function"?X[1].handleEvent:null;if(Re!==null){const ve=D.get(X[1]);ve!==void 0?X[1]=ve:(X[1]=re=>{c(g.currentTime,g.sampleRate,()=>Re(re))},D.set(Re,X[1]))}}return b.call(v.port1,X[0],X[1],X[2])})(v.port1.addEventListener),v.port1.removeEventListener=(b=>(...X)=>{if(X[0]==="message"){const Re=D.get(X[1]);Re!==void 0&&(D.delete(X[1]),X[1]=Re)}return b.call(v.port1,X[0],X[1],X[2])})(v.port1.removeEventListener);let R=null;Object.defineProperty(v.port1,"onmessage",{get:()=>R,set:b=>{typeof R=="function"&&v.port1.removeEventListener("message",R),R=typeof b=="function"?b:null,typeof R=="function"&&(v.port1.addEventListener("message",R),v.port1.start())}}),_.prototype.port=v.port1;let O=null;l1(g,I,_,w).then(b=>O=b);const H=Ko(w.numberOfInputs,w.channelCount),$=Ko(w.numberOfOutputs,f),L=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((b,{name:X})=>({...b,[X]:new Float32Array(128)}),{});let Q=!0;const ee=()=>{w.numberOfOutputs>0&&N.disconnect(A);for(let b=0,X=0;b<w.numberOfOutputs;b+=1){const Re=F[b];for(let ve=0;ve<f[b];ve+=1)A.disconnect(Re,X+ve,ve);X+=f[b]}},z=new Map;N.onaudioprocess=({inputBuffer:b,outputBuffer:X})=>{if(O!==null){const Re=h(I);for(let ve=0;ve<C;ve+=128){for(let re=0;re<w.numberOfInputs;re+=1)for(let Te=0;Te<w.channelCount;Te+=1)Zo(b,H[re],Te,Te,ve);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:re},Te)=>{Zo(b,L,re,m+Te,ve)});for(let re=0;re<w.numberOfInputs;re+=1)for(let Te=0;Te<f[re];Te+=1)$[re][Te].byteLength===0&&($[re][Te]=new Float32Array(128));try{const re=H.map((Et,En)=>{if(Re[En].size>0)return z.set(En,C/128),Et;const Ba=z.get(En);return Ba===void 0?[]:(Et.every(ng=>ng.every(sg=>sg===0))&&(Ba===1?z.delete(En):z.set(En,Ba-1)),Et)});Q=c(g.currentTime+ve/g.sampleRate,g.sampleRate,()=>O.process(re,$,L));for(let Et=0,En=0;Et<w.numberOfOutputs;Et+=1){for(let kr=0;kr<f[Et];kr+=1)cm(X,$[Et],kr,En+kr,ve);En+=f[Et]}}catch(re){Q=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!Q){for(let re=0;re<w.numberOfInputs;re+=1){k[re].disconnect(T[re]);for(let Te=0;Te<w.channelCount;Te+=1)T[ve].disconnect(E,Te,re*w.channelCount+Te)}if(_.parameterDescriptors!==void 0){const re=_.parameterDescriptors.length;for(let Te=0;Te<re;Te+=1){const Et=S[Te];Et.disconnect(E,0,m+Te),Et.stop()}}E.disconnect(N),N.onaudioprocess=null,Me?ee():Ve();break}}}};let Me=!1;const mt=o(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ot=()=>N.connect(mt).connect(g.destination),Ve=()=>{N.disconnect(mt),mt.disconnect()},Ke=()=>{if(Q){Ve(),w.numberOfOutputs>0&&N.connect(A);for(let b=0,X=0;b<w.numberOfOutputs;b+=1){const Re=F[b];for(let ve=0;ve<f[b];ve+=1)A.connect(Re,X+ve,ve);X+=f[b]}}Me=!0},gt=()=>{Q&&(ot(),ee()),Me=!1};return ot(),d(I,Ke,gt)},fm=(t,e)=>{const n=t.createBiquadFilter();return be(n,e),Ce(n,e,"Q"),Ce(n,e,"detune"),Ce(n,e,"frequency"),Ce(n,e,"gain"),_e(n,e,"type"),n},c1=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),be(r,s),r},h1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw We()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw We()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw We()}})},Ai=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return be(n,e),h1(n),n},d1=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return be(a,o),Ce(a,o,"offset"),e(s,()=>s(i))||wc(a),e(r,()=>r(i))||Sc(a),t(i,a),a},_r=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),f1=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},d=()=>l.connect(u),g=()=>l.disconnect(u);return t(r,l),s(_r(h,u),d,g)},p1=(t,e)=>(n,s)=>{const r=n.createConvolver();if(be(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),_e(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},pm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return be(n,e),Ce(n,e,"delayTime"),n},m1=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(be(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Ce(s,n,"attack"),Ce(s,n,"knee"),Ce(s,n,"ratio"),Ce(s,n,"release"),Ce(s,n,"threshold"),s},pt=(t,e)=>{const n=t.createGain();return be(n,e),Ce(n,e,"gain"),n},g1=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return be(r,s),r};function _1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function y1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Td(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=y1(n,e),n[0]+=t[s];return n}const v1=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=dm(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),g=c instanceof Float64Array?c:new Float64Array(c),p=d.length,_=g.length,w=Math.min(p,_);if(p===0||p>20)throw s();if(d[0]===0)throw e();if(_===0||_>20)throw s();if(g[0]===0)throw e();if(d[0]!==1){for(let S=0;S<_;S+=1)g[S]/=d[0];for(let S=1;S<p;S+=1)d[S]/=d[0]}const f=n(r,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const m=32,y=[],x=[],v=[];for(let S=0;S<o;S+=1){y.push(0);const E=new Float32Array(m),C=new Float32Array(m);E.fill(0),C.fill(0),x.push(E),v.push(C)}f.onaudioprocess=S=>{const E=S.inputBuffer,C=S.outputBuffer,N=E.numberOfChannels;for(let A=0;A<N;A+=1){const F=E.getChannelData(A),V=C.getChannelData(A);y[A]=hm(d,p,g,_,w,x[A],v[A],y[A],m,F,V)}};const k=r.sampleRate/2;return _r({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(S){f.channelCount=S},get channelCountMode(){return f.channelCountMode},set channelCountMode(S){f.channelCountMode=S},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(S){f.channelInterpretation=S},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},getFrequencyResponse(S,E,C){if(S.length!==E.length||E.length!==C.length)throw t();const N=S.length;for(let A=0;A<N;A+=1){const F=-Math.PI*(S[A]/k),V=[Math.cos(F),Math.sin(F)],U=Td(g,V),j=Td(d,V),q=_1(U,j);E[A]=Math.sqrt(q[0]*q[0]+q[1]*q[1]),C[A]=Math.atan2(q[1],q[0])}},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])}},f)},w1=(t,e)=>t.createMediaElementSource(e.mediaElement),S1=(t,e)=>{const n=t.createMediaStreamDestination();return be(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},k1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},T1=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},x1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,C1=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return be(l,a),Ce(l,a,"detune"),Ce(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):_e(l,a,"type"),e(n,()=>n(o))||wc(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||Sc(l),t(o,l),l},E1=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(be(s,n),Ce(s,n,"orientationX"),Ce(s,n,"orientationY"),Ce(s,n,"orientationZ"),Ce(s,n,"positionX"),Ce(s,n,"positionY"),Ce(s,n,"positionZ"),_e(s,n,"coneInnerAngle"),_e(s,n,"coneOuterAngle"),_e(s,n,"coneOuterGain"),_e(s,n,"distanceModel"),_e(s,n,"maxDistance"),_e(s,n,"panningModel"),_e(s,n,"refDistance"),_e(s,n,"rolloffFactor"),s)},N1=(t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:g,distanceModel:p,maxDistance:_,orientationX:w,orientationY:f,orientationZ:m,panningModel:y,positionX:x,positionY:v,positionZ:k,refDistance:T,rolloffFactor:S,...E})=>{const C=c.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw o();be(C,E);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,{...N,channelInterpretation:"speakers",numberOfInputs:6}),F=s(c,{...E,gain:1}),V=s(c,{...N,gain:1}),U=s(c,{...N,gain:0}),j=s(c,{...N,gain:0}),q=s(c,{...N,gain:0}),I=s(c,{...N,gain:0}),D=s(c,{...N,gain:0}),R=r(c,256,6,1),O=i(c,{...N,curve:new Float32Array([1,1]),oversample:"none"});let P=[w,f,m],H=[x,v,k];const $=new Float32Array(1);R.onaudioprocess=({inputBuffer:z})=>{const Me=[l(z,$,0),l(z,$,1),l(z,$,2)];Me.some((ot,Ve)=>ot!==P[Ve])&&(C.setOrientation(...Me),P=Me);const mt=[l(z,$,3),l(z,$,4),l(z,$,5)];mt.some((ot,Ve)=>ot!==H[Ve])&&(C.setPosition(...mt),H=mt)},Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0});const L={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(z){if(z>2)throw o();F.channelCount=z,C.channelCount=z},get channelCountMode(){return C.channelCountMode},set channelCountMode(z){if(z==="max")throw o();F.channelCountMode=z,C.channelCountMode=z},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(z){F.channelInterpretation=z,C.channelInterpretation=z},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(z){C.coneInnerAngle=z},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(z){C.coneOuterAngle=z},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(z){if(z<0||z>1)throw e();C.coneOuterGain=z},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(z){C.distanceModel=z},get inputs(){return[F]},get maxDistance(){return C.maxDistance},set maxDistance(z){if(z<0)throw new RangeError;C.maxDistance=z},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return U.gain},get orientationZ(){return j.gain},get panningModel(){return C.panningModel},set panningModel(z){C.panningModel=z},get positionX(){return q.gain},get positionY(){return I.gain},get positionZ(){return D.gain},get refDistance(){return C.refDistance},set refDistance(z){if(z<0)throw new RangeError;C.refDistance=z},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(z){if(z<0)throw new RangeError;C.rolloffFactor=z},addEventListener(...z){return F.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return F.dispatchEvent(z[0])},removeEventListener(...z){return F.removeEventListener(z[0],z[1],z[2])}};h!==L.coneInnerAngle&&(L.coneInnerAngle=h),d!==L.coneOuterAngle&&(L.coneOuterAngle=d),g!==L.coneOuterGain&&(L.coneOuterGain=g),p!==L.distanceModel&&(L.distanceModel=p),_!==L.maxDistance&&(L.maxDistance=_),w!==L.orientationX.value&&(L.orientationX.value=w),f!==L.orientationY.value&&(L.orientationY.value=f),m!==L.orientationZ.value&&(L.orientationZ.value=m),y!==L.panningModel&&(L.panningModel=y),x!==L.positionX.value&&(L.positionX.value=x),v!==L.positionY.value&&(L.positionY.value=v),k!==L.positionZ.value&&(L.positionZ.value=k),T!==L.refDistance&&(L.refDistance=T),S!==L.rolloffFactor&&(L.rolloffFactor=S),(P[0]!==1||P[1]!==0||P[2]!==0)&&C.setOrientation(...P),(H[0]!==0||H[1]!==0||H[2]!==0)&&C.setPosition(...H);const Q=()=>{F.connect(C),t(F,O,0,0),O.connect(V).connect(A,0,0),O.connect(U).connect(A,0,1),O.connect(j).connect(A,0,2),O.connect(q).connect(A,0,3),O.connect(I).connect(A,0,4),O.connect(D).connect(A,0,5),A.connect(R).connect(c.destination)},ee=()=>{F.disconnect(C),a(F,O,0,0),O.disconnect(V),V.disconnect(A),O.disconnect(U),U.disconnect(A),O.disconnect(j),j.disconnect(A),O.disconnect(q),q.disconnect(A),O.disconnect(I),I.disconnect(A),O.disconnect(D),D.disconnect(A),A.disconnect(R),R.disconnect(c.destination)};return u(_r(L,C),Q,ee)},A1=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},Oi=(t,e,n,s)=>t.createScriptProcessor(e,n,s),O1=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return be(i,s),Ce(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},I1=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(p,_,w,f)=>{const m=new Float32Array(16385),y=new Float32Array(16385);for(let E=0;E<16385;E+=1){const C=E/16384*l;m[E]=Math.cos(C),y[E]=Math.sin(C)}const x=n(p,{...u,gain:0}),v=s(p,{...c,curve:m}),k=s(p,{...c,curve:a}),T=n(p,{...u,gain:0}),S=s(p,{...c,curve:y});return{connectGraph(){_.connect(x),_.connect(k.inputs===void 0?k:k.inputs[0]),_.connect(T),k.connect(w),w.connect(v.inputs===void 0?v:v.inputs[0]),w.connect(S.inputs===void 0?S:S.inputs[0]),v.connect(x.gain),S.connect(T.gain),x.connect(f,0,0),T.connect(f,0,1)},disconnectGraph(){_.disconnect(x),_.disconnect(k.inputs===void 0?k:k.inputs[0]),_.disconnect(T),k.disconnect(w),w.disconnect(v.inputs===void 0?v:v.inputs[0]),w.disconnect(S.inputs===void 0?S:S.inputs[0]),v.disconnect(x.gain),S.disconnect(T.gain),x.disconnect(f,0,0),T.disconnect(f,0,1)}}},d=(p,_,w,f)=>{const m=new Float32Array(16385),y=new Float32Array(16385),x=new Float32Array(16385),v=new Float32Array(16385),k=Math.floor(16385/2);for(let q=0;q<16385;q+=1)if(q>k){const I=(q-k)/(16384-k)*l;m[q]=Math.cos(I),y[q]=Math.sin(I),x[q]=0,v[q]=1}else{const I=q/(16384-k)*l;m[q]=1,y[q]=0,x[q]=Math.cos(I),v[q]=Math.sin(I)}const T=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(p,{...u,gain:0}),E=s(p,{...c,curve:m}),C=n(p,{...u,gain:0}),N=s(p,{...c,curve:y}),A=s(p,{...c,curve:a}),F=n(p,{...u,gain:0}),V=s(p,{...c,curve:x}),U=n(p,{...u,gain:0}),j=s(p,{...c,curve:v});return{connectGraph(){_.connect(T),_.connect(A.inputs===void 0?A:A.inputs[0]),T.connect(S,0),T.connect(C,0),T.connect(F,1),T.connect(U,1),A.connect(w),w.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(N.inputs===void 0?N:N.inputs[0]),w.connect(V.inputs===void 0?V:V.inputs[0]),w.connect(j.inputs===void 0?j:j.inputs[0]),E.connect(S.gain),N.connect(C.gain),V.connect(F.gain),j.connect(U.gain),S.connect(f,0,0),F.connect(f,0,0),C.connect(f,0,1),U.connect(f,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(A.inputs===void 0?A:A.inputs[0]),T.disconnect(S,0),T.disconnect(C,0),T.disconnect(F,1),T.disconnect(U,1),A.disconnect(w),w.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(N.inputs===void 0?N:N.inputs[0]),w.disconnect(V.inputs===void 0?V:V.inputs[0]),w.disconnect(j.inputs===void 0?j:j.inputs[0]),E.disconnect(S.gain),N.disconnect(C.gain),V.disconnect(F.gain),j.disconnect(U.gain),S.disconnect(f,0,0),F.disconnect(f,0,0),C.disconnect(f,0,1),U.disconnect(f,0,1)}}},g=(p,_,w,f,m)=>{if(_===1)return h(p,w,f,m);if(_===2)return d(p,w,f,m);throw r()};return(p,{channelCount:_,channelCountMode:w,pan:f,...m})=>{if(w==="max")throw r();const y=t(p,{...m,channelCount:1,channelCountMode:w,numberOfInputs:2}),x=n(p,{...m,channelCount:_,channelCountMode:w,gain:1}),v=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:k,disconnectGraph:T}=g(p,_,x,v,y);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const S={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(A){x.channelCount!==A&&(E&&T(),{connectGraph:k,disconnectGraph:T}=g(p,A,x,v,y),E&&k()),x.channelCount=A},get channelCountMode(){return x.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw r();x.channelCountMode=A},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(A){x.channelInterpretation=A},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get pan(){return v.gain},addEventListener(...A){return x.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return x.dispatchEvent(A[0])},removeEventListener(...A){return x.removeEventListener(A[0],A[1],A[2])}};let E=!1;const C=()=>{k(),E=!0},N=()=>{T(),E=!1};return i(_r(S,y),C,N)}},D1=(t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);be(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();_e(u,{curve:c},"curve"),_e(u,l,"oversample");let h=null,d=!1;return o(u,"curve",_=>()=>_.call(u),_=>w=>(_.call(u,w),d&&(s(w)&&h===null?h=t(a,u):!s(w)&&h!==null&&(h(),h=null)),w)),r(u,()=>{d=!0,s(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},M1=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();be(u,l),be(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),g=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){h.channelCount=v,d.channelCount=v,u.channelCount=v,g.channelCount=v,c.channelCount=v,p.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){h.channelCountMode=v,d.channelCountMode=v,u.channelCountMode=v,g.channelCountMode=v,c.channelCountMode=v,p.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){h.channelInterpretation=v,d.channelInterpretation=v,u.channelInterpretation=v,g.channelInterpretation=v,c.channelInterpretation=v,p.channelInterpretation=v},get context(){return u.context},get curve(){return f},set curve(v){if(v!==null&&v.length<2)throw e();if(v===null)u.curve=v,c.curve=v;else{const k=v.length,T=new Float32Array(k+2-k%2),S=new Float32Array(k+2-k%2);T[0]=v[0],S[0]=-v[k-1];const E=Math.ceil((k+1)/2),C=(k+1)/2-1;for(let N=1;N<E;N+=1){const A=N/E*C,F=Math.floor(A),V=Math.ceil(A);T[N]=F===V?v[F]:(1-(A-F))*v[F]+(1-(V-A))*v[V],S[N]=F===V?-v[k-1-F]:-((1-(A-F))*v[k-1-F])-(1-(V-A))*v[k-1-V]}T[E]=k%2===1?v[E-1]:(v[E-2]+v[E-1])/2,u.curve=T,c.curve=S}f=v,w&&(s(f)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(v){u.oversample=v,c.oversample=v},addEventListener(...v){return h.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return h.dispatchEvent(v[0])},removeEventListener(...v){return h.removeEventListener(v[0],v[1],v[2])}};o!==null&&(m.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==m.oversample&&(m.oversample=a);const y=()=>{h.connect(u).connect(g),h.connect(d).connect(c).connect(p).connect(g),w=!0,s(f)&&(_=t(i,h))},x=()=>{h.disconnect(u),u.disconnect(g),h.disconnect(d),d.disconnect(c),c.disconnect(p),p.disconnect(g),w=!1,_!==null&&(_(),_=null)};return r(_r(m,g),y,x)},it=()=>new DOMException("","NotSupportedError"),R1={numberOfChannels:1},P1=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...R1,...u},g=s(h,c,d);e(pi,()=>pi(g))||g.addEventListener("statechange",(()=>{let p=0;const _=w=>{this._state==="running"&&(p>0?(g.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):p+=1)};return _})()),super(g,h),this._length=c,this._nativeOfflineAudioContext=g,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,im(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},F1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},b1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...F1,...u},d=n(c,h),g=i(c),p=g?s():null,_=l.sampleRate/2;super(l,!1,d,p),this._detune=e(this,g,d.detune,153600,-153600),this._frequency=e(this,g,d.frequency,_,-_),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){ar(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),mn(this)&&Ci(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},V1=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const g=Ze(d,h);if(!g){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,p),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),g?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await s(h,c.detune,d.detune),await s(h,c.frequency,d.frequency)),await r(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},L1={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},j1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...L1,...u},d=n(c,h),g=i(c),p=g?s():null;super(l,!1,d,p),this._nativePannerNode=d,this._orientationX=e(this,g,d.orientationX,et,lt),this._orientationY=e(this,g,d.orientationY,et,lt),this._orientationZ=e(this,g,d.orientationZ,et,lt),this._positionX=e(this,g,d.positionX,et,lt),this._positionY=e(this,g,d.positionY,et,lt),this._positionZ=e(this,g,d.positionZ,et,lt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},W1=(t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(g,p)=>{let _=null,w=i(g);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},m={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},y=Ze(w,p);if("bufferSize"in w)_=s(p,{...f,gain:1});else if(!y){const x={...m,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(p,x)}if(c.set(p,_===null?w:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new o(6,g.context.length,p.sampleRate),A=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(N.destination),h=(async()=>{const F=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(V,U)=>{const j=n(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U===0?1:0});return await a(N,V,j.offset),j}));for(let V=0;V<6;V+=1)F[V].connect(A,0,V),F[V].start(0);return u(N)})()}const x=await h,v=s(p,{...f,gain:1});await l(g,p,v);const k=[];for(let N=0;N<x.numberOfChannels;N+=1)k.push(x.getChannelData(N));let T=[k[0][0],k[1][0],k[2][0]],S=[k[3][0],k[4][0],k[5][0]],E=s(p,{...f,gain:1}),C=r(p,{...m,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:S[0],positionY:S[1],positionZ:S[2]});v.connect(E).connect(C.inputs[0]),C.connect(_);for(let N=128;N<x.length;N+=128){const A=[k[0][N],k[1][N],k[2][N]],F=[k[3][N],k[4][N],k[5][N]];if(A.some((V,U)=>V!==T[U])||F.some((V,U)=>V!==S[U])){T=A,S=F;const V=N/p.sampleRate;E.gain.setValueAtTime(0,V),E=s(p,{...f,gain:0}),C=r(p,{...m,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:S[0],positionY:S[1],positionZ:S[2]}),E.gain.setValueAtTime(1,V),v.connect(E).connect(C.inputs[0]),C.connect(_)}}return _}return y?(await t(p,g.orientationX,w.orientationX),await t(p,g.orientationY,w.orientationY),await t(p,g.orientationZ,w.orientationZ),await t(p,g.positionX,w.positionX),await t(p,g.positionY,w.positionY),await t(p,g.positionZ,w.positionZ)):(await a(p,g.orientationX,w.orientationX),await a(p,g.orientationY,w.orientationY),await a(p,g.orientationZ,w.orientationZ),await a(p,g.positionX,w.positionX),await a(p,g.positionY,w.positionY),await a(p,g.positionZ,w.positionZ)),gr(w)?await l(g,p,w.inputs[0]):await l(g,p,w),w};return{render(g,p){const _=c.get(p);return _!==void 0?Promise.resolve(_):d(g,p)}}},z1={disableNormalization:!1},q1=(t,e,n,s)=>class mm{constructor(i,o){const a=e(i),l=s({...z1,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===mm.prototype||n.has(i)}},B1=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),U1=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,r),g=s.context.destination;!n(u)&&(s!==g||!n(s))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},$1=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,r);n(a)||c.connect(i,l)}))},G1=(t,e,n,s)=>r=>t(pi,()=>pi(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),H1=t=>(e,n)=>{t.set(e,n)},Q1=t=>(e,n)=>t.set(e,n),X1=(t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(s(u)).map(c=>n(c).render(c,u)))).then(()=>r(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),_c(c)):e(i,()=>i(c))||a(c),t.add(c),c)),Y1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Z1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...Y1,...l},h=n(u,c),d=i(u),g=d?s():null;super(a,!1,h,g),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},K1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await s(l,a.pan,u.pan),gr(u)?await r(a,l,u.inputs[0]):await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},J1=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},ew=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},tw=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},nw=()=>new DOMException("","UnknownError"),sw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},rw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...sw,...u},d=n(c,h),p=i(c)?s():null;super(l,!0,d,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},iw=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return s.set(o,a),gr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},ow=()=>typeof window>"u"?null:window,aw=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)s[h]=u[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=s[h]}},lw=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},uw=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},cw=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},gm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),_m=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ii=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},hw=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),dw=t=>({...t,channelCount:t.numberOfOutputs}),fw=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},ym=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;ym(t,e,n+1e-7)}},pw=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},mw=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},gw=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},kc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},vm=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Tc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},_w=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},yw=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},wm=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),_r(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},yr=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},vw=jy(Ts),ww=$y(Ts),Sw=s0(Ta),Sm=new WeakMap,kw=S0(Sm),Qt=Rv(new Map,new WeakMap),nn=ow(),km=Z0(Qt,rn),xc=w0(tt),Ge=U1(tt,xc,ys),Tw=Yy(km,ge,Ge),fe=x0(ka),Tn=x1(nn),le=z0(Tn),Tm=new WeakMap,xm=f0(yr),Di=t1(nn),Cc=V0(Di),Ec=L0(nn),Cm=j0(nn),mi=s1(nn),Oe=Sv(Wy(Kp),Uy(vw,ww,Qo,Sw,Xo,tt,kw,xi,ge,Ts,mn,ys,yo),Qt,M0(fu,Xo,tt,ge,fi,mn),rn,xa,it,Jv(Qo,fu,tt,ge,fi,fe,mn,le),o0(Tm,tt,Ht),xm,fe,Cc,Ec,Cm,le,mi),xw=Xy(Oe,Tw,rn,km,fe,le),Nc=new WeakSet,xd=K0(nn),Em=Gv(new Uint32Array(1)),Ac=aw(Em,rn),Oc=lw(Em),Nm=Ky(Nc,Qt,it,xd,Tn,J1(xd),Ac,Oc),Ca=Gy(pt),Am=$1(xc,Ei,ys),on=Wv(Am),vr=e1(Ca,Qt,pw,mw,gw,kc,vm,Tc,yw,uw(Ii),wm),an=B1(k0(Ei),Am),Cw=tv(on,vr,ge,an,Ge),Xt=kv(zy(Jp),Tm,gc,Tv,Ry,Py,Fy,by,Vy,cu,Yp,Di,ym),Ew=ev(Oe,Cw,Xt,We,vr,fe,le,yr),Nw=cv(Oe,hv,rn,We,n1(pt,Ii),fe,le,Ge),Aw=Mv(on,fm,ge,an,Ge),xs=Q1(Sm),Ow=Dv(Oe,Xt,Aw,xa,fm,fe,le,xs),ns=X0(Ts,Ec),Iw=cw(We,ns),ss=c1(Di,Iw),Dw=bv(ss,ge,Ge),Mw=Fv(Oe,Dw,ss,fe,le),Rw=jv(Ai,ge,Ge),Pw=Lv(Oe,Rw,Ai,fe,le,dw),Fw=f1(Ca,vr,pt,ns),wr=d1(Ca,Qt,Fw,kc,Tc),bw=$v(on,wr,ge,an,Ge),Vw=Uv(Oe,Xt,bw,wr,fe,le,yr),Om=p1(it,Ii),Lw=Xv(Om,ge,Ge),jw=Qv(Oe,Lw,Om,fe,le,xs),Ww=n0(on,pm,ge,an,Ge),zw=t0(Oe,Xt,Ww,pm,fe,le,xs),Im=m1(it),qw=c0(on,Im,ge,an,Ge),Bw=u0(Oe,Xt,qw,Im,it,fe,le,xs),Uw=y0(on,pt,ge,an,Ge),$w=_0(Oe,Xt,Uw,pt,fe,le),Gw=v1(xa,We,Oi,it),Ea=G1(Qt,pt,Oi,tw(pt,Tn)),Hw=D0(vr,ge,Tn,Ge,Ea),Qw=g1(Gw),Xw=O0(Oe,Qw,Hw,fe,le,xs),Yw=dv(Xt,ss,wr,Oi,it,gm,le,Ii),Dm=new WeakMap,Zw=Q0(Nw,Yw,xm,le,Dm,yr),Mm=C1(Ca,Qt,kc,vm,Tc,wm),Kw=V1(on,Mm,ge,an,Ge),Jw=b1(Oe,Xt,Mm,Kw,fe,le,yr),Rm=qv(vr),eS=M1(Rm,We,pt,_m,ns),Na=D1(Rm,We,eS,_m,ns,Di,Ii),tS=N1(Qo,We,ss,pt,Oi,Na,it,Xo,gm,ns),Pm=E1(tS),nS=W1(on,ss,wr,pt,Pm,ge,Tn,an,Ge,Ea),sS=j1(Oe,Xt,Pm,nS,fe,le,xs),rS=A1(rn),iS=q1(rS,fe,new WeakSet,fw),oS=I1(ss,Ai,pt,Na,it,ns),Fm=O1(oS,it),aS=K1(on,Fm,ge,an,Ge),lS=Z1(Oe,Xt,Fm,aS,fe,le),uS=iw(Na,ge,Ge),cS=rw(Oe,We,Na,uS,fe,le,xs),bm=q0(nn),Ic=p0(nn),Vm=new WeakMap,hS=C0(Vm,Tn),dS=bm?By(Qt,it,d0(nn),Ic,m0(Ly),fe,hS,le,mi,new WeakMap,new WeakMap,ew(mi,Tn),nn):void 0,fS=W0(Cc,le),pS=Kv(Nc,Qt,Zv,h0,new WeakSet,fe,fS,Go,pi,Ac,Oc),Lm=Ov(dS,xw,Nm,Ew,Ow,Mw,Pw,Vw,jw,pS,zw,Bw,$w,Xw,Zw,Jw,sS,iS,lS,cS),mS=B0(Oe,w1,fe,le),gS=$0(Oe,S1,fe,le),_S=G0(Oe,k1,fe,le),yS=T1(We,le),vS=H0(Oe,yS,fe),wS=uv(Lm,We,it,nw,mS,gS,_S,vS,Di),Dc=E0(Dm),SS=Hy(Dc),jm=zv(rn),kS=r0(Dc),Wm=a0(rn),zm=new WeakMap,TS=v0(zm,Ht),xS=u1(jm,rn,We,ss,Ai,wr,pt,Oi,it,Wm,Ic,TS,ns),CS=i1(We,xS,pt,it,ns),ES=Av(on,jm,vr,ss,Ai,wr,pt,kS,Wm,Ic,ge,mi,Tn,an,Ge,Ea),NS=T0(Vm),AS=H1(zm),Cd=bm?Cv(SS,Oe,Xt,ES,CS,tt,NS,fe,le,mi,hw,AS,_w,yr):void 0,OS=Yv(it,Tn),IS=X1(Nc,Qt,xc,Dc,Ea,Go,Ac,Oc),DS=P1(Lm,Qt,We,OS,IS),MS=R0(ka,Cc),RS=P0(mc,Ec),PS=F0(gc,Cm),FS=b0(ka,le);function Rt(t){return t===void 0}function J(t){return t!==void 0}function bS(t){return typeof t=="function"}function Qn(t){return typeof t=="number"}function ds(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function VS(t){return typeof t=="boolean"}function $t(t){return Array.isArray(t)}function wn(t){return typeof t=="string"}function no(t){return wn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Y(t,e){if(!t)throw new Error(e)}function St(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function qm(t){!t.isOffline&&t.state!=="running"&&Mc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Bm=!1,Ed=!1;function Nd(t){Bm=t}function LS(t){Rt(t)&&Bm&&!Ed&&(Ed=!0,Mc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Um=console;function jS(...t){Um.log(...t)}function Mc(...t){Um.warn(...t)}function WS(t){return new wS(t)}function zS(t,e,n){return new DS(t,e,n)}const vt=typeof self=="object"?self:null,qS=vt&&(vt.hasOwnProperty("AudioContext")||vt.hasOwnProperty("webkitAudioContext"));function BS(t,e,n){return Y(J(Cd),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(vt==null?void 0:vt.BaseAudioContext)?vt==null?void 0:vt.AudioWorkletNode:Cd)(t,e,n)}function Yt(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Ae(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}class US{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function vs(t){return PS(t)}function $n(t){return RS(t)}function vo(t){return FS(t)}function Os(t){return MS(t)}function $S(t){return t instanceof Nm}function GS(t,e){return t==="value"||vs(e)||$n(e)||$S(e)}function Zs(t,...e){if(!e.length)return t;const n=e.shift();if(ds(t)&&ds(n))for(const s in n)GS(s,n[s])?t[s]=n[s]:ds(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Zs(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Zs(t,...e)}function HS(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function B(t,e,n=[],s){const r={},i=Array.from(e);if(ds(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Zs(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&ds(i[0]))Zs(r,i[0]);else for(let o=0;o<n.length;o++)J(i[o])&&(r[n[o]]=i[o]);return Zs(t,r)}function QS(t){return t.constructor.getDefaults()}function Ks(t,e){return Rt(t)?e:t}function bn(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class xn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||vt&&this.toString()===vt.TONE_DEBUG_CLASS)&&jS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}xn.version=Xp;const Rc=1e-6;function lr(t,e){return t>e+Rc}function yu(t,e){return lr(t,e)||qt(t,e)}function Jo(t,e){return t+Rc<e}function qt(t,e){return Math.abs(t-e)<Rc}function XS(t,e,n){return Math.max(Math.min(t,n),e)}class Pt extends xn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=B(Pt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Y(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Y(yu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(qt(this._timeline[n].time,e)){for(let s=n;s>=0&&qt(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&yu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(qt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(qt(c[n],e))o=u;else break}return o}else{if(Jo(a[n],e)&&lr(l[n],e))return o;lr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&qt(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&qt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const $m=[];function Aa(t){$m.push(t)}function YS(t){$m.forEach(e=>e(t))}const Gm=[];function Oa(t){Gm.push(t)}function ZS(t){Gm.forEach(e=>e(t))}class Mi extends xn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{Rt(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(Rt(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(Rt(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Mi.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Hm extends Mi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ri extends Hm{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Pt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=B(Ri.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=WS({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new US(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(YS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Y(Os(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Y(Os(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Y(Os(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Y(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Y(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Y(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Y(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return BS(this.rawContext,e,n)}addAudioWorkletModule(e){return Ae(this,void 0,void 0,function*(){Y(J(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ae(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Os(this._context)?this._context.resume():Promise.resolve()}close(){return Ae(this,void 0,void 0,function*(){Os(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&ZS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class KS extends Hm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ae(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ie(t,e){$t(e)?e.forEach(n=>ie(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Pc(t,e){$t(e)?e.forEach(n=>Pc(t,n)):Object.defineProperty(t,e,{writable:!0})}const oe=()=>{};class ue extends xn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=oe;const e=B(ue.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,wn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:oe,onload:oe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:qe().sampleRate}set(e){return e instanceof ue?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ae(this,void 0,void 0,function*(){const n=ue.load(e).then(s=>{this.set(s),this.onload(this)});ue.downloads.push(n);try{yield n}finally{const s=ue.downloads.indexOf(n);ue.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=$t(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=qe(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Qn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(Qn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Y(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);Y(s<r,"The start time must be less than the end time");const i=r-s,o=qe().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new ue(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ue().fromArray(e)}static fromUrl(e){return Ae(this,void 0,void 0,function*(){return yield new ue().load(e)})}static load(e){return Ae(this,void 0,void 0,function*(){const n=ue.baseUrl===""||ue.baseUrl.endsWith("/")?ue.baseUrl:ue.baseUrl+"/",s=yield fetch(n+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const r=yield s.arrayBuffer();return yield qe().decodeAudioData(r)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Ae(this,void 0,void 0,function*(){for(yield Promise.resolve();ue.downloads.length;)yield ue.downloads[0]})}}ue.baseUrl="";ue.downloads=[];class Ia extends Ri{constructor(){super({clockSource:"offline",context:vo(arguments[0])?arguments[0]:zS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:vo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=vo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ae(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return Ae(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ue(n)})}close(){return Promise.resolve()}}const Qm=new KS;let us=Qm;function qe(){return us===Qm&&qS&&JS(new Ri),us}function JS(t,e=!1){e&&us.dispose(),Os(t)?us=new Ri(t):vo(t)?us=new Ia(t):us=t}function ek(){return us.resume()}if(vt&&!vt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Xp} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function tk(t){return Math.pow(10,t/20)}function nk(t){return 20*(Math.log(t)/Math.LN10)}function Xm(t){return Math.pow(2,t/12)}let Da=440;function sk(){return Da}function rk(t){Da=t}function vu(t){return Math.round(Ym(t))}function Ym(t){return 69+12*Math.log2(t/Da)}function ik(t){return Da*Math.pow(2,(t-69)/12)}class Fc extends xn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Fc&&this.fromType(this._val),Rt(this._val))return this._noArg();if(wn(this._val)&&Rt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ds(this._val)){let e=0;for(const n in this._val)if(J(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(J(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return wn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class It extends Fc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new It(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new It(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new It(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return vu(this.toFrequency())}_now(){return this.context.now()}}function ok(t,e){return new It(qe(),t,e)}class Dt extends It{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return sk()}static set A4(e){rk(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Dt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=ak[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:Dt.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new Dt(this.context,this.valueOf()*Xm(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return vu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Dt.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),lk[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return ik(e)}static ftom(e){return vu(e)}}const ak={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},lk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Gr extends It{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ft extends xn{constructor(){super();const e=B(ft.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:qe()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return LS(e),new It(this.context,e).toSeconds()}toFrequency(e){return new Dt(this.context,e).toFrequency()}toTicks(e){return new Gr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Rt(e[s])&&delete n[s]}),n}get(){const e=QS(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];J(s)&&J(s.value)&&J(s.setValueAtTime)?e[n]=s.value:s instanceof ft?e[n]=s._getPartialProperties(e[n]):$t(s)||Qn(s)||wn(s)||VS(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&J(this[n])&&(this[n]&&J(this[n].value)&&J(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof ft?this[n].set(e[n]):this[n]=e[n])}),this}}class bc extends Pt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return St(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class te extends ft{constructor(){const e=B(te.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Y(J(e.param)&&(vs(e.param)||e.param instanceof te),"param must be an AudioParam");!vs(e.param);)e.param=e.param._param;this._swappable=J(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Pt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,J(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ft.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return J(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return J(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return J(this.maxValue)&&J(this.minValue)&&St(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?tk(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?nk(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return Y(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return Y(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=qt(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return Y(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);Y(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),Y(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Y(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));Y(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&qt(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){Y(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class G extends ft{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return J(this.input)?vs(this.input)||this.input instanceof te?1:this.input.numberOfInputs:0}get numberOfOutputs(){return J(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return J(e)&&(e instanceof G||$n(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Y(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Sn(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Mc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return Zm(this,e,n,s),this}chain(...e){return gi(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),J(this.input)&&(this.input instanceof G?this.input.dispose():$n(this.input)&&this.input.disconnect()),J(this.output)&&(this.output instanceof G?this.output.dispose():$n(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function gi(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof G?n.connect(s):$n(n)&&Sn(n,s),s),e)}function Sn(t,e,n=0,s=0){for(Y(J(t),"Cannot connect from undefined node"),Y(J(e),"Cannot connect to undefined node"),(e instanceof G||$n(e))&&Y(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Y(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof G||e instanceof te;)J(e.input)&&(e=e.input);for(;t instanceof G;)J(t.output)&&(t=t.output);vs(e)?t.connect(e,n):t.connect(e,n,s)}function Zm(t,e,n=0,s=0){if(J(e))for(;e instanceof G;)e=e.input;for(;!$n(t);)J(t.output)&&(t=t.output);vs(e)?t.disconnect(e,n):$n(e)?t.disconnect(e,n,s):t.disconnect()}class se extends G{constructor(){const e=B(se.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new te({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ie(this,"gain")}static getDefaults(){return Object.assign(G.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ur extends G{constructor(e){super(e),this.onended=oe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new se({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(G.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:oe})}_startGain(e,n=1){Y(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Y(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==oe&&(this.onended(this),this.onended=oe,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Y(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=oe,this}}class Vc extends ur{constructor(){const e=B(Vc.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Sn(this._source,this._gainNode),this.offset=new te({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ur.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ce extends G{constructor(){const e=B(ce.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Vc({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(G.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Ma(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ma(t,e,n,s){(e instanceof te||vs(e)||e instanceof ce&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ce&&(e.overridden=!0)),Sn(t,e,n,s)}class Lc extends te{constructor(){const e=B(Lc.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Pt(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(te.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Rt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,u=(-r-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class jc extends ce{constructor(){const e=B(jc.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Lc({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ce.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Wc extends ft{constructor(){const e=B(Wc.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new bc,this._tickOffset=new Pt,this._ticksAtTime=new Pt,this._secondsAtTime=new Pt,this.frequency=new jc({context:this.context,units:e.units,value:e.frequency}),ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ft.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),J(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),u=a-l;let c=Math.ceil(u)-u;c=qt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ra extends ft{constructor(){const e=B(Ra.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=oe,this._lastUpdate=0,this._state=new bc("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Wc({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ft.getDefaults(),{callback:oe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){qm(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Mi.mixin(Ra);class _i extends G{constructor(){const e=B(_i.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new te({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),ie(this,"delayTime")}static getDefaults(){return Object.assign(G.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Sr extends G{constructor(){const e=B(Sr.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new se({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ie(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class zc extends G{constructor(){const e=B(zc.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Sr({context:this.context}),this.output=new se({context:this.context}),this.volume=this.input.volume,gi(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),gi(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Aa(t=>{t.destination=new zc({context:t})});Oa(t=>{t.destination.dispose()});class uk extends G{constructor(){super(...arguments),this.name="Listener",this.positionX=new te({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new te({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new te({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new te({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new te({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new te({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new te({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new te({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new te({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(G.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Aa(t=>{t.listener=new uk({context:t})});Oa(t=>{t.listener.dispose()});class qc extends xn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=B(qc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:oe,onload:oe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Y(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=oe,r=oe){return wn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ue(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new ue(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Bs extends Gr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ck extends ft{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Pt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Aa(t=>{t.draw=new ck({context:t})});Oa(t=>{t.draw.dispose()});class hk extends xn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Y(J(e.time),"Events must have a time property"),Y(J(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new dk(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class dk{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class fk extends xn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Pt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class sn extends G{constructor(){super(B(sn.getDefaults(),arguments,["context"]))}connect(e,n=0,s=0){return Ma(this,e,n,s),this}}class Cs extends sn{constructor(){const e=B(Cs.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,$t(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):bS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ce.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));Y(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Pa extends sn{constructor(){const e=B(Pa.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Cs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(sn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Xn{constructor(e,n){this.id=Xn._eventId++,this._remainderTime=0;const s=Object.assign(Xn.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:oe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Xn._eventId=0;class Bc extends Xn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Bc.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Xn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Jo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Bs(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Jo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Bs(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);lr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Fa extends ft{constructor(){const e=B(Fa.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new fk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Pt,this._repeatedEvents=new hk,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Ra({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ie(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ft.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new Bs(this.context,this._swingTicks*2/3).toSeconds()*r}Nd(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),Nd(!1)}schedule(e,n){const s=new Xn(this,{callback:e,time:new Gr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new Bc(this,{callback:e,duration:new It(this.context,r).toTicks(),interval:new It(this.context,n).toTicks(),time:new Gr(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new Xn(this,{callback:e,once:!0,time:new Gr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Bs(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return J(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){$t(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new It(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new It(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Bs(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Bs(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new se(l),c=new Pa(-1),h=new se(l);r.chain(u,c,h),r=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new se(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Pc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Mi.mixin(Fa);Aa(t=>{t.transport=new Fa({context:t})});Oa(t=>{t.transport.dispose()});class $e extends G{constructor(e){super(e),this.input=void 0,this._state=new bc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=oe,this._syncedStop=oe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Sr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ie(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,onstop:oe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=Rt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")Y(lr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Ks(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else qm(this.context),this._start(r,n,s);return this}stop(e){let n=Rt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||J(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(lr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=oe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Pi extends ur{constructor(){const e=B(Pi.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Sn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new te({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ue(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ur.getDefaults(),{url:new ue,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){Y(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=Ks(n,this.loopStart):n=Ks(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;yu(o,a)&&(o=(o-l)%u+l),qt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Jo(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),J(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class cr extends $e{constructor(){const e=B(cr.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign($e.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(Y(e in Ad,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=Ad[this._type];this._source=new Pi({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const As=44100*5,_l=2,ln={brown:null,pink:null,white:null},Ad={get brown(){if(!ln.brown){const t=[];for(let e=0;e<_l;e++){const n=new Float32Array(As);t[e]=n;let s=0;for(let r=0;r<As;r++){const i=Math.random()*2-1;n[r]=(s+.02*i)/1.02,s=n[r],n[r]*=3.5}}ln.brown=new ue().fromArray(t)}return ln.brown},get pink(){if(!ln.pink){const t=[];for(let e=0;e<_l;e++){const n=new Float32Array(As);t[e]=n;let s,r,i,o,a,l,u;s=r=i=o=a=l=u=0;for(let c=0;c<As;c++){const h=Math.random()*2-1;s=.99886*s+h*.0555179,r=.99332*r+h*.0750759,i=.969*i+h*.153852,o=.8665*o+h*.3104856,a=.55*a+h*.5329522,l=-.7616*l-h*.016898,n[c]=s+r+i+o+a+l+u+h*.5362,n[c]*=.11,u=h*.115926}}ln.pink=new ue().fromArray(t)}return ln.pink},get white(){if(!ln.white){const t=[];for(let e=0;e<_l;e++){const n=new Float32Array(As);t[e]=n;for(let s=0;s<As;s++)n[s]=Math.random()*2-1}ln.white=new ue().fromArray(t)}return ln.white}};function Es(t,e){return Ae(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Ia(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Uc extends ur{constructor(){const e=B(Uc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Sn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new te({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new te({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ie(this,["frequency","detune"])}static getDefaults(){return Object.assign(ur.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ee extends $e{constructor(){const e=B(Ee.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new ce({context:this.context,units:"frequency",value:e.frequency}),ie(this,"frequency"),this.detune=new ce({context:this.context,units:"cents",value:e.detune}),ie(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new Uc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ee._periodicWaveCache.find(n=>n.phase===this._phase&&HS(n.partials,this._partials));{const e=Ee._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(J(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ee._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Ee._periodicWaveCache.length>100&&Ee._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){St(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return XS(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ee._periodicWaveCache=[];class Km extends sn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Cs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ws extends ce{constructor(){const e=B(ws.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new se({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ce.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ba extends $e{constructor(){const e=B(ba.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Km({context:this.context}),this._modulationNode=new se({context:this.context}),this._carrier=new Ee({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ee({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ws({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ie(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Va extends $e{constructor(){const e=B(Va.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new se({context:this.context,gain:0}),this._carrier=new Ee({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ce({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ee({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ws({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ws({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ie(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Fi extends $e{constructor(){const e=B(Fi.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new se({context:this.context,gain:0}),this._thresh=new Cs({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new ce({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ee({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ie(this,["width","frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class La extends $e{constructor(){const e=B(La.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new ce({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ce({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ie(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(St(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Ee({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):oe});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class ja extends $e{constructor(){const e=B(ja.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ws({context:this.context,value:2}),this._pulse=new Fi({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ee({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ie(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Od={am:ba,fat:La,fm:Va,oscillator:Ee,pulse:Fi,pwm:ja};class hr extends $e{constructor(){const e=B(hr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new ce({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ce({context:this.context,units:"cents",value:e.detune}),ie(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ee.getDefaults(),Va.getDefaults(),ba.getDefaults(),La.getDefaults(),Fi.getDefaults(),ja.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Od[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Od[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Qn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Qn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&wn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ae(this,arguments,void 0,function*(e=1024){return Es(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class $c extends ce{constructor(){super(B($c.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new se({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,gi(this._constantSource,this._sum)}static getDefaults(){return Object.assign(ce.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Wa extends sn{constructor(){const e=B(Wa.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new ws({context:this.context,value:e.max-e.min}),this._add=this.output=new $c({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(sn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Gc extends sn{constructor(){super(B(Gc.getDefaults(),arguments)),this.name="Zero",this._gain=new se({context:this.context}),this.output=this._gain,this.input=void 0,Sn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Zm(this.context.getConstant(0),this._gain),this}}class Hc extends G{constructor(){const e=B(Hc.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=te.prototype._fromType,this._toType=te.prototype._toType,this._is=te.prototype._is,this._clampValue=te.prototype._clampValue,this._oscillator=new Ee(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new se({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new ce({context:this.context,units:"audioRange",value:0}),this._zeros=new Gc({context:this.context}),this._a2g=new Km({context:this.context}),this._scaler=this.output=new Wa({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ie(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Ee.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof te||e instanceof ce)&&(this.convert=e.convert,this.units=e.units),Ma(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Jm(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){St(i,t,e),n.set(this,i)}})}}function Cn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){St(this.toSeconds(i),t,e),n.set(this,i)}})}}class za extends $e{constructor(){const e=B(za.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ue({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign($e.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1,reverse:!1})}load(e){return Ae(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=oe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=Ks(n,this._loopStart):n=Ks(n,0);const r=this.toSeconds(n),i=s;s=Ks(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Pi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Rt(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&St(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&St(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Yt([Cn(0)],za.prototype,"fadeIn",void 0);Yt([Cn(0)],za.prototype,"fadeOut",void 0);class pk extends sn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Cs({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Vt extends G{constructor(){const e=B(Vt.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new ce({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(G.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(wn(e))return e;{let s;for(s in so)if(so[s][n]===e)return s;return e}}_setCurve(e,n,s){if(wn(s)&&Reflect.has(so,s)){const r=so[s];ds(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if($t(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Y($t(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Ma(this,e,n,s),this}asArray(){return Ae(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,s=new Ia(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Yt([Cn(0)],Vt.prototype,"attack",void 0);Yt([Cn(0)],Vt.prototype,"decay",void 0);Yt([Jm(0,1)],Vt.prototype,"sustain",void 0);Yt([Cn(0)],Vt.prototype,"release",void 0);const so=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+n*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const d=Math.pow(n,3)*4+.2,g=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(g*(1-n))}function c(d){const g=new Array(d.length);for(let p=0;p<d.length;p++)g[p]=1-d[p];return g}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:c(r)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class Yn extends G{constructor(){const e=B(Yn.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Sr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ie(this,"volume")}static getDefaults(){return Object.assign(G.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Zn extends Yn{constructor(){const e=B(Zn.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Yn.getDefaults(),{detune:0,onsilence:oe,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof Dt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Yt([Cn(0)],Zn.prototype,"portamento",void 0);class bi extends Vt{constructor(){super(B(bi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new se({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class _t extends Zn{constructor(){const e=B(_t.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new hr(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new bi(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ie(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Zn.getDefaults(),{envelope:Object.assign(bn(Vt.getDefaults(),Object.keys(G.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(bn(hr.getDefaults(),[...Object.keys($e.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ea extends G{constructor(){const e=B(ea.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new te({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new te({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new te({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new te({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(G.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Y(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*19980+20;n[o]=l}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class yi extends G{constructor(){const e=B(yi.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new se({context:this.context}),this.output=new se({context:this.context}),this._filters=[],this._filters=[],this.Q=new ce({context:this.context,units:"positive",value:e.Q}),this.frequency=new ce({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ce({context:this.context,units:"cents",value:e.detune}),this.gain=new ce({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ie(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(G.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Y(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Qn(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);Y(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new ea({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,gi(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new ea({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Pc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class ta extends Vt{constructor(){const e=B(ta.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Pa({context:this.context,value:e.exponent}),this._scale=this.output=new Wa({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Vt.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);St(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Qc extends Zn{constructor(){const e=B(Qc.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new hr(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new yi(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new ta(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new bi(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ie(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Zn.getDefaults(),{envelope:Object.assign(bn(Vt.getDefaults(),Object.keys(G.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(bn(yi.getDefaults(),Object.keys(G.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(bn(ta.getDefaults(),Object.keys(G.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(bn(hr.getDefaults(),Object.keys($e.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class dr extends _t{constructor(){const e=B(dr.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ie(this,["oscillator","envelope"])}static getDefaults(){return Zs(Zn.getDefaults(),_t.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof Dt?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Yt([Jm(0)],dr.prototype,"octaves",void 0);Yt([Cn(0)],dr.prototype,"pitchDecay",void 0);class Hr extends Yn{constructor(){const e=B(Hr.getDefaults(),arguments);super(e),this.name="NoiseSynth",this.noise=new cr(Object.assign({context:this.context},e.noise)),this.envelope=new bi(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Yn.getDefaults(),{envelope:Object.assign(bn(Vt.getDefaults(),Object.keys(G.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(bn(cr.getDefaults(),Object.keys($e.getDefaults())),{type:"white"})})}triggerAttack(e,n=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,n),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(n,s),this.triggerRelease(n+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const eg=new Set;function Xc(t){eg.add(t)}function tg(t,e){const n=`registerProcessor("${t}", ${e})`;eg.add(n)}const mk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Xc(mk);const gk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Xc(gk);const _k=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Xc(_k);const yk="feedback-comb-filter",vk=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;tg(yk,vk);class qa extends Yn{constructor(){const e=B(qa.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(Y(no(s)||Qn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),no(s)){const i=new Dt(this.context,s).toMidi();n[i]=e.urls[s]}else Qn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new qc({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Yn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:oe,onerror:oe,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Ym(new Dt(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=Xm(l+a),d=new Pi({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,s),$t(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const g=this._activeSources.get(o),p=g.indexOf(d);p!==-1&&g.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new Dt(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),$t(n)?(Y($t(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(Y(no(e)||isFinite(e),`note must be a pitch or midi: ${e}`),no(e)){const r=new Dt(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Yt([Cn(0)],qa.prototype,"attack",void 0);Yt([Cn(0)],qa.prototype,"release",void 0);class Yc extends G{constructor(){const e=B(Yc.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new pk({context:this.context}),this.a=new se({context:this.context,gain:0}),this.b=new se({context:this.context,gain:0}),this.output=new se({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new ce({context:this.context,units:"normalRange",value:e.fade}),ie(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Sn(this._split,this.a.gain,0),Sn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(G.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Kn extends G{constructor(e){super(e),this.name="Effect",this._dryWet=new Yc({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new se({context:this.context}),this.effectReturn=new se({context:this.context}),this.input=new se({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ie(this,"wet")}static getDefaults(){return Object.assign(G.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Id extends Kn{constructor(e){super(e),this.name="LFOEffect",this._lfo=new Hc({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,ie(this,["frequency","depth"])}static getDefaults(){return Object.assign(Kn.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class na extends Id{constructor(){const e=B(na.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(e),this.name="AutoFilter",this.filter=new yi(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(Id.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Zc extends G{constructor(){const e=B(Zc.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new te({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ie(this,"pan")}static getDefaults(){return Object.assign(G.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const wk="bit-crusher",Sk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;tg(wk,Sk);class Kc extends G{constructor(){const e=B(Kc.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(G.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class sa extends Kn{constructor(){const e=B(sa.getDefaults(),arguments,["distortion"]);super(e),this.name="Distortion",this._shaper=new Cs({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Kn.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,s=Math.PI/180;this._shaper.setMap(r=>Math.abs(r)<.001?0:(3+n)*r*20*s/(Math.PI+n*Math.abs(r)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Dd extends Kn{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new se({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,ie(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Kn.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class ra extends Dd{constructor(){const e=B(ra.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new _i({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),ie(this,"delayTime")}static getDefaults(){return Object.assign(Dd.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class ia extends Kn{constructor(){const e=B(ia.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const n=this.toSeconds(e.decay);St(n,.001),this._decay=n;const s=this.toSeconds(e.preDelay);St(s,0),this._preDelay=s,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Kn.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),St(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),St(e,0),this._preDelay=e,this.generate()}generate(){return Ae(this,void 0,void 0,function*(){const e=this.ready,n=new Ia(2,this._decay+this._preDelay,this.context.sampleRate),s=new cr({context:n}),r=new cr({context:n}),i=new Kc({context:n});s.connect(i,0,0),r.connect(i,0,1);const o=new se({context:n}).toDestination();i.connect(o),s.start(0),r.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=n.render();return this.ready=a.then(oe),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Ie extends G{constructor(){const e=B(Ie.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new se({context:this.context}),Ie._allSolos.has(this.context)||Ie._allSolos.set(this.context,new Set),Ie._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(G.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ie._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ie._soloed.has(this.context)||Ie._soloed.set(this.context,new Set),Ie._soloed.get(this.context).add(this)}_removeSolo(){Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).delete(this)}_isSoloed(){return Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).has(this)}_noSolos(){return!Ie._soloed.has(this.context)||Ie._soloed.has(this.context)&&Ie._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ie._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ie._allSolos=new Map;Ie._soloed=new Map;class Jc extends G{constructor(){const e=B(Jc.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Zc({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Sr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ie(this,["pan","volume"])}static getDefaults(){return Object.assign(G.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Us extends G{constructor(){const e=B(Us.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ie({solo:e.solo,context:this.context}),this._panVol=this.output=new Jc({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ie(this,["pan","volume"])}static getDefaults(){return Object.assign(G.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Us.buses.has(e)||Us.buses.set(e,new se({context:this.context})),Us.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new se({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Us.buses=new Map;function Md(){return qe().now()}qe().transport;const kk=qe().destination;qe().destination;function Rd(){return qe().destination}qe().listener;qe().draw;qe();const Tk="/grimiore/assets/bg-CpNiRZIt.jpg",xk=t=>t*Math.PI/180,Qr=t=>(t%360+360)%360,Ck=(t,e,n)=>(t=Qr(t),e=Qr(e),n=Qr(n),t<=e?t<n&&n<=e:n>t||n<=e),Ek=[{key:"Aries",glyph:"♈",deg:0},{key:"Taurus",glyph:"♉",deg:30},{key:"Gemini",glyph:"♊",deg:60},{key:"Cancer",glyph:"♋",deg:90},{key:"Leo",glyph:"♌",deg:120},{key:"Virgo",glyph:"♍",deg:150},{key:"Libra",glyph:"♎",deg:180},{key:"Scorpio",glyph:"♏",deg:210},{key:"Sagittarius",glyph:"♐",deg:240},{key:"Capricorn",glyph:"♑",deg:270},{key:"Aquarius",glyph:"♒",deg:300},{key:"Pisces",glyph:"♓",deg:330}],Nk=[{key:"I",deg:0},{key:"II",deg:30},{key:"III",deg:60},{key:"IV",deg:90},{key:"V",deg:120},{key:"VI",deg:150},{key:"VII",deg:180},{key:"VIII",deg:210},{key:"IX",deg:240},{key:"X",deg:270},{key:"XI",deg:300},{key:"XII",deg:330}],Xr=[{key:"Sun",glyph:"☉",deg:311.59,instrument:"lead"},{key:"Moon",glyph:"☽",deg:52.1,instrument:"pad"},{key:"Mercury",glyph:"☿",deg:317.52,instrument:"arp"},{key:"Venus",glyph:"♀",deg:358.29,instrument:"bell"},{key:"Mars",glyph:"♂",deg:100.01,instrument:"snare"},{key:"Jupiter",glyph:"♃",deg:194.41,instrument:"bass"},{key:"Saturn",glyph:"♄",deg:319.52,instrument:"pad"},{key:"Uranus",glyph:"♅",deg:289.29,instrument:"hat"},{key:"Neptune",glyph:"♆",deg:289.31,instrument:"hat"},{key:"Pluto",glyph:"♇",deg:235.21,instrument:"tom"},{key:"Lilith",glyph:"⚸",deg:351.59,instrument:"clap"},{key:"NNode",glyph:"☊",deg:260.15,instrument:"bell"},{key:"Asc",glyph:"ASC",deg:171.45,instrument:"kick"},{key:"MC",glyph:"MC",deg:78.8,instrument:"lead"}],Pd=Object.fromEntries(Xr.map(t=>[t.key,t.instrument])),br=["G3","A3","B3","D4","E4","G4","A4","B4","D5","E5","G5","A5","B5","D6","E6"],Dr=t=>br[(t%br.length+br.length)%br.length],Ak=[{key:"kick",label:"Kick (thump)"},{key:"snare",label:"Snare (snap)"},{key:"clap",label:"Clap (cute)"},{key:"hat",label:"Hat (tsss)"},{key:"tom",label:"Tom (boop)"},{key:"bass",label:"Chip Bass"},{key:"lead",label:"Square Lead (pew)"},{key:"arp",label:"Arp (sparkle)"},{key:"pad",label:"Soft Pad"},{key:"bell",label:"Bell (ping)"},{key:"pluck",label:"Pluck (pixie)"},{key:"pulse",label:"Pulse Lead (cute)"},{key:"blip",label:"Blip (game coin)"}],Ok=765,Ik="center";function Dk(){const[t,e]=he.useState(!1),[n,s]=he.useState(60),r=he.useMemo(()=>360*(n/60),[n]),[i,o]=he.useState(0),[a,l]=he.useState(.15),[u,c]=he.useState(.1),[h,d]=he.useState(.18),[g,p]=he.useState(.12),_=he.useRef(null),w=he.useRef(null),f=he.useRef(0),m=he.useRef(0),y=he.useRef(!1),x=he.useRef(null),v=he.useRef(null),k=he.useRef({}),T=he.useRef(null),S=he.useRef(null),E=he.useRef(null),C=he.useRef(null),N=he.useRef({}),A=he.useRef(Object.fromEntries(Xr.map(O=>[O.key,O.instrument]))),F=O=>{switch(O){case"kick":return new dr({octaves:3,pitchDecay:.06,envelope:{attack:.001,decay:.18,sustain:0,release:.12},volume:-1});case"snare":return new Hr({envelope:{attack:.001,decay:.12,sustain:0,release:.05},volume:-2});case"clap":return new Hr({envelope:{attack:.001,decay:.08,sustain:0,release:.03},volume:-3});case"hat":return new Hr({envelope:{attack:.001,decay:.02,sustain:0,release:.015},volume:-6});case"tom":return new dr({octaves:2,pitchDecay:.02,envelope:{attack:.001,decay:.12,sustain:0,release:.1},volume:-2});case"bass":return new Qc({oscillator:{type:"square"},envelope:{attack:.003,decay:.1,sustain:.7,release:.12},volume:-2});case"lead":return new _t({oscillator:{type:"square"},envelope:{attack:.003,decay:.1,sustain:.28,release:.12},volume:-3});case"arp":return new _t({oscillator:{type:"square"},envelope:{attack:.002,decay:.08,sustain:.25,release:.09},volume:-4});case"pad":return new _t({oscillator:{type:"triangle"},envelope:{attack:.01,decay:.1,sustain:.35,release:.25},volume:-6});case"bell":return new _t({oscillator:{type:"sine"},envelope:{attack:.002,decay:.4,sustain:0,release:.22},volume:-4});case"pluck":return new _t({oscillator:{type:"triangle"},envelope:{attack:.001,decay:.08,sustain:0,release:.05},volume:-4});case"pulse":return new _t({oscillator:{type:"square"},envelope:{attack:.002,decay:.08,sain:.28,release:.09},volume:-3});case"blip":return new _t({oscillator:{type:"sine"},envelope:{attack:.001,decay:.05,sustain:0,release:.03},volume:-4});default:return new _t}},V=()=>{if(y.current)return;const O=new se(1),P=new se(1),H=sa?new sa:null,$=na?new na({frequency:1.5,baseFrequency:200,octaves:3,type:"sine"}).start():null,L=ra?new ra({delayTime:"3n",feedback:.25}):_i?new _i("3n"):null,Q=ia?new ia({decay:2.5,preDelay:.01}):null;H!=null&&H.wet&&(H.wet.value=a),$!=null&&$.wet&&($.wet.value=u),L!=null&&L.wet&&(L.wet.value=h),Q!=null&&Q.wet&&(Q.wet.value=g);let ee=O;const z=(Ve,Ke)=>{Ve&&(ee.connect(Ve),ee=Ve,Ke&&(Ke.current=Ve))};z(H,T),z($,S),z(L,E),z(Q,C),ee.connect(P);const Me=Rd&&Rd()||kk||(qe==null?void 0:qe().destination);Me&&P.connect(Me),x.current=O,v.current=P;const mt={},ot={};Xr.forEach(Ve=>{const Ke=new se(1);Ke.connect(O),Ke.connect(P);const gt={};Ak.forEach(({key:b})=>{const X=F(b);X.connect(Ke),gt[b]=X}),mt[Ve.key]=Ke,ot[Ve.key]={current:A.current[Ve.key],nodes:gt}}),k.current=mt,N.current=ot,y.current=!0},U=()=>{var O,P,H,$,L,Q,ee,z,Me,mt,ot,Ve;y.current&&(Object.values(N.current).forEach(Ke=>Object.values(Ke.nodes).forEach(gt=>{var b;return(b=gt==null?void 0:gt.dispose)==null?void 0:b.call(gt)})),Object.values(k.current).forEach(Ke=>{var gt;return(gt=Ke.dispose)==null?void 0:gt.call(Ke)}),(P=(O=T.current)==null?void 0:O.dispose)==null||P.call(O),($=(H=S.current)==null?void 0:H.dispose)==null||$.call(H),(Q=(L=E.current)==null?void 0:L.dispose)==null||Q.call(L),(z=(ee=C.current)==null?void 0:ee.dispose)==null||z.call(ee),(mt=(Me=v.current)==null?void 0:Me.dispose)==null||mt.call(Me),(Ve=(ot=x.current)==null?void 0:ot.dispose)==null||Ve.call(ot),N.current={},k.current={},y.current=!1)};he.useEffect(()=>()=>U(),[]),he.useEffect(()=>{if(!t){_.current&&cancelAnimationFrame(_.current);return}const O=P=>{const H=P/1e3;w.current==null&&(w.current=H);const $=Qr(f.current+(H-w.current)*r),L=m.current;y.current&&Xr.forEach((Q,ee)=>{Ck(L,$,Q.deg)&&j(Q,ee)}),m.current=$,o($),_.current=requestAnimationFrame(O)};return _.current=requestAnimationFrame(O),()=>_.current&&cancelAnimationFrame(_.current)},[t,r]);const j=(O,P)=>{const H=N.current[O.key];if(!H)return;const $=H.nodes[H.current];if(!$)return;const L=Md(),Q=Dr(P*3%br.length);switch(H.current){case"kick":$.triggerAttackRelease("G1","8n",L);break;case"snare":$.triggerAttackRelease("16n",L);break;case"clap":$.triggerAttackRelease("16n",L);break;case"hat":$.triggerAttackRelease("32n",L);break;case"tom":$.triggerAttackRelease("D2","16n",L);break;case"bass":$.triggerAttackRelease(Dr(0),"8n",L);break;case"lead":$.triggerAttackRelease(Q,"8n",L);break;case"arp":$.triggerAttackRelease(Dr(P+2),"16n",L);break;case"pad":$.triggerAttackRelease(Dr(P+4),"4n",L);break;case"bell":$.triggerAttackRelease(Dr(P+6),"8n",L);break;case"pluck":$.triggerAttack(Q,L),$.triggerRelease(L+ok("8n").toSeconds());break;case"pulse":$.triggerAttackRelease(Q,"8n",L);break;case"blip":$.triggerAttackRelease("E6","32n",L);break;default:$.triggerAttackRelease(Q,"8n",L);break}},q=async()=>{t?(f.current=i,e(!1)):(await ek(),V(),new _t().toDestination().triggerAttackRelease("A4","16n",Md()+.05),w.current=null,m.current=f.current,e(!0))},I=()=>{var L,Q,ee,z;f.current=0,m.current=0,o(0),s(60),A.current={...Pd},Object.keys(N.current||{}).forEach(Me=>{N.current[Me]&&(N.current[Me].current=Pd[Me])});const O=.15,P=.1,H=.18,$=.12;l(O),c(P),d(H),p($),(L=T.current)!=null&&L.wet&&(T.current.wet.value=O),(Q=S.current)!=null&&Q.wet&&(S.current.wet.value=P),(ee=E.current)!=null&&ee.wet&&(E.current.wet.value=H),(z=C.current)!=null&&z.wet&&(C.current.wet.value=$),y.current||V(),t&&(w.current=null,m.current=f.current)},D=O=>O===60?"MEDITATE":O>=100&&O<=150?"WORK BITCH!":O>=160?"RAVE!":"FLOW",R=O=>O<=90?"#39FF14":O<=150?"#f59e0b":"#ef4444";return Z.jsxs("div",{style:{background:"#000",color:"#39FF14",minHeight:"100vh",padding:20},children:[Z.jsx("h1",{style:{textAlign:"center",fontSize:32,marginBottom:20},children:"REMIX ME"}),Z.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12,alignItems:"center",flexWrap:"wrap"},children:[Z.jsx("button",{onClick:q,children:t?"Pause":"Play"}),Z.jsx("button",{onClick:I,children:"Reset"}),Z.jsxs("div",{style:{marginLeft:16,minWidth:260,flex:1},children:[Z.jsxs("label",{children:["Tempo ",n," BPM"]}),Z.jsx("input",{type:"range",min:60,max:180,step:1,value:n,onChange:O=>s(parseInt(O.target.value))})]}),Z.jsx("div",{style:{background:R(n),color:"#000",padding:"4px 8px",borderRadius:999,fontWeight:800},children:D(n)})]}),Z.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",flexWrap:"wrap",marginBottom:10},children:[Z.jsx(ro,{label:"Distortion",children:Z.jsx("input",{type:"range",min:0,max:1,step:.01,value:a,onChange:O=>{var H;const P=parseFloat(O.target.value);l(P),(H=T.current)!=null&&H.wet&&(T.current.wet.value=P)}})}),Z.jsx(ro,{label:"Filter",children:Z.jsx("input",{type:"range",min:0,max:1,step:.01,value:u,onChange:O=>{var H;const P=parseFloat(O.target.value);c(P),(H=S.current)!=null&&H.wet&&(S.current.wet.value=P)}})}),Z.jsx(ro,{label:"Delay",children:Z.jsx("input",{type:"range",min:0,max:1,step:.01,value:h,onChange:O=>{var H;const P=parseFloat(O.target.value);d(P),(H=E.current)!=null&&H.wet&&(E.current.wet.value=P)}})}),Z.jsx(ro,{label:"Reverb",children:Z.jsx("input",{type:"range",min:0,max:1,step:.01,value:g,onChange:O=>{var H;const P=parseFloat(O.target.value);p(P),(H=C.current)!=null&&H.wet&&(C.current.wet.value=P)}})})]}),Z.jsx("div",{style:{position:"relative",width:"100%",height:750,display:"grid",placeItems:"center",backgroundImage:`url(${Tk})`,backgroundRepeat:"no-repeat",backgroundPosition:Ik,backgroundSize:`${Ok}px auto`},children:Z.jsx(Mk,{angle:i})})]})}function ro({label:t,children:e}){return Z.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[Z.jsx("small",{style:{width:70,display:"inline-block"},children:t}),e]})}function Mk({angle:t}){const i="#39FF14",a=(l,u)=>{const c=xk(-l+90);return[300+u*Math.cos(c),300-u*Math.sin(c)]};return Z.jsxs("svg",{viewBox:"0 0 600 600",style:{width:"100%",height:520},children:[Z.jsx("circle",{cx:300,cy:300,r:228,fill:"none",stroke:i,strokeWidth:2}),Ek.map(l=>{const u=Math.abs(Qr(t)-l.deg),h=Math.min(u,360-u)<=45/2,[d,g]=a(l.deg,258),p=h?22:14;return Z.jsx("text",{x:d,y:g,textAnchor:"middle",fontSize:p,fill:i,opacity:h?1:0,children:l.glyph},l.key)}),Nk.map(l=>{const[u,c]=a(l.deg,283);return Z.jsx("text",{x:u,y:c,textAnchor:"middle",fontSize:12,fill:"white",children:l.key},l.key)}),Xr.map(l=>{const[u,c]=a(l.deg,228);return Z.jsxs("g",{children:[Z.jsx("circle",{cx:u,cy:c,r:6,fill:"black",stroke:i,strokeWidth:2}),Z.jsx("text",{x:u,y:c-12,textAnchor:"middle",fontSize:20,fill:i,children:l.glyph})]},l.key)}),(()=>{const l=t-22.5,u=t+45/2,[c,h]=a(l,228),[d,g]=a(u,228),p=`M300,300 L${c},${h} A228,228 0 0 1 ${d},${g} Z`;return Z.jsx("path",{d:p,fill:i,opacity:.15})})(),(()=>{const[l,u]=a(t,228),[c,h]=a(t,228*1.08),d=`M300,300 Q${c},${h} ${l},${u}`;return Z.jsxs("g",{children:[Z.jsx("path",{d,stroke:i,strokeOpacity:.1,strokeWidth:12,strokeLinecap:"round",fill:"none"}),Z.jsx("path",{d,stroke:i,strokeOpacity:.22,strokeWidth:6,strokeLinecap:"round",fill:"none"}),Z.jsx("path",{d,stroke:i,strokeWidth:2,strokeLinecap:"round",fill:"none"})]})})()]})}function Rk(){return Z.jsx("div",{children:Z.jsx(Dk,{})})}const Pk=Qp(document.getElementById("root"));Pk.render(Z.jsx(Rk,{}));
